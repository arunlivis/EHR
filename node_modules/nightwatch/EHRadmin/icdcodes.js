var Data = require('../EHR_Json/data.json')

var id;
var category= 'AAA Test'
var icd_code= 'ICD 1234'
var Description= 'Description'
var ICD_Sub_Category= 'ICD Sub Category'
var x;
var y;

module.exports={
    login : function (browser) {
        browser 
        .login(Data.user1[1].username, Data.user1[1].password)

},
'Billing Setup':function(browser){
	browser
	   .useXpath()
	   .pause(500)
	   .click("//*[@id='mainMenu']/ul/li[4]/a")
	   .pause(500)
	   .useCss()
	   .click('a[href="/EHR/Clinicadmin/ICDCodes"]')
	   .waitForElementVisible('#addnew' , 60000)
},
'Add New ICD Category':function(browser){
	browser	   
	   .pause(500)
	   .useXpath()
	   .click("//*[@id='form']/div/div/ul/li[1]/a")
	   .pause(500)
	   .useCss()
	   .click('a[href="/EHR/Clinicadmin/viewICDCategories"]')
	   .waitForElementVisible('input[placeholder="Search Sub Category"]' , 60000)
	   .pause(500)
	   .click('#addnew')
	   .waitForElementVisible('#icdmaincategory' , 60000)
	   .pause(600)
	   .click('button[onclick="return saveICDCategory();"]')
	   .pause(1000)
	   .verify.visible('#icdmaincategory_Error')
	   .pause(500)
	   .setValue('#icdmaincategory' , category)
	   .pause(500)
	   .click('button[onclick="return saveICDCategory();"]')
	   .waitForElementVisible('#addnew' , 60000)
	   .pause(5000)
	   .click('#addnew')
	   .waitForElementVisible('#icdmaincategory' , 60000)
	   .pause(500)
	   .setValue('#icdmaincategory' , category)
	   .pause(600)
	   .click('button[onclick="return saveICDCategory();"]')
	   .pause(1000)
	   .verify.visible('#icdmaincategory_Error')
	   .pause(500)
	   .click('button[class="btn btn-danger"][type="button"]')
},
'Add New ICD Code':function(browser){
	browser
	   .useXpath()
	   .pause(500)
	   .click("//*[@id='form']/div/div/ul/li[1]/a")
	   .pause(500)
	   .click("//*[@id='form']/div/div/ul/li[1]/ul/li[1]/a")
	   .useCss()
	   .waitForElementVisible('input[placeholder="Search ICD-10 Code"]' , 60000)
	   .pause(500)
	   .click('#addnew')
	   .waitForElementVisible('#addicdcode' , 60000)
	   .pause(500)
	   .useXpath()
	   .click("//*[@id='selectCategoryId']/option[text()='"+category+"']")
	   .useCss()
	   .setValue('#addicdcode' , icd_code)
	   .setValue('#adddescription' , Description)
	   .pause(300)
	   .click('button[onclick="return saveICDCode();"]')
	   .pause(500)
},
'Open Patient File':function(browser){
	browser
	   .useCss()
	   .click('a[class="firstLevel"]')
	   .pause(300)
	   .click('a[href="/EHR/Clinicadmin/view-patient-details-open"]')
	   .waitForElementVisible('a[onclick="getPatientProfile()"]' , 60000)
	   .pause(500)
	   .getText('td[class="sorting_1"]' , function(result){
	   	        id=result.value
	   })
},
'Open Patient':function(browser){
	browser	   
	   .useCss()
	   .click('a[onclick="postNavigateToProfile('+id+',1);"]')
	   .waitForElementVisible('#patient_first_name' , 60000)
	   .pause(500)
	   .click('a[onclick="doGetTreatments();"]')
	   .waitForElementVisible('button[onclick="openStartTreatment();"]' , 60000)
	   .pause(500)
	   .useXpath()
	   .click("//*[@id='treatmentformsContent']/div[2]/span/button")
	   .useCss()
	   .waitForElementVisible('button[onclick="addSoapNotes();"]' , 60000)
	   .pause(500)
	   .useXpath()
	   .getLocationInView("//*[@id='treatmentformsContent']/div/a[text()='Initial Exam Screen 8 -']")
	   .pause(500)
	   .getLocationInView("//*[@id='treatmentformsContent']/div/a[text()='Initial Exam Screen 5 -']")
	   .pause(500)
	   .click("//*[@id='treatmentformsContent']/div/a[text()='Initial Exam Screen 8 -']")
	   .useCss()
	   .waitForElementVisible('#btnExportTreatmentForm' , 60000)
	   .pause(1000)
	   .getLocationInView('#diagnosisTen_id')
	   .pause(1000)
	   .getLocationInView('#btnExportTreatmentForm')
	   .pause(1000)
	   .click('#diagnosisOne_id')
	   .waitForElementVisible('#selectCategory' , 60000)
	   .pause(500)
	   .useXpath()
	   .click("//*[@id='selectCategory']/option[text()='"+category+"']")
	   .pause(500)
	   .useCss()
	   .setValue('input[placeholder="Search ICD-10 Code"]' , icd_code)
	   .pause(500)
	   .useXpath()
	   .verify.containsText("//*[@id='icdList']/tbody/tr[1]/td[2]" , icd_code)
	   .verify.containsText("//*[@id='icdList']/tbody/tr[1]/td[3]" , Description)
	   .pause(1000)
	   .click("//*[@id='icdCodesList']/div/div/div[1]/button")
},
'Billing 2':function(browser){
	browser
	   .useXpath()
	   .pause(500)
	   .click("//*[@id='mainMenu']/ul/li[4]/a")
	   .pause(500)
	   .useCss()
	   .click('a[href="/EHR/Clinicadmin/ICDCodes"]')
	   .waitForElementVisible('#addnew' , 60000)
	   .pause(500)
	   .click('#addnew')
	   .waitForElementVisible('#addicdcode' , 60000)
	   .pause(500)
	   .useXpath()
	   .click("//*[@id='selectCategoryId']/option[2]")
	   .useCss()
	   .setValue('#addicdcode' , icd_code)
	   .setValue('#adddescription' , Description)
	   .pause(500)
	   .click('button[onclick="return saveICDCode();"]')
	   .pause(1000)
	   .verify.visible('#addicdcode_Error')
	   .pause(300)
	   .click('button[class="btn btn-danger"]')

},
'Edit Description':function(browser){
	browser
	    .useCss()
	    .pause(500)
	    .setValue('input[placeholder="Search ICD-10 Code"]' , icd_code)
	    .pause(500)
	    .click('a[class="orange tooltipsclass"]')
	    .useCss()
	    .waitForElementVisible('#selectCategoryId' , 60000)
	    .pause(500)
	    .clearValue('#adddescription')
	    .setValue('#adddescription' , 'Edit '+Description)
	    .pause(300)
	   .click('button[onclick="return saveICDCode();"]')
	   .pause(500)
},
'Open Patient File 2':function(browser){
	browser
	   .useCss()
	   .click('a[class="firstLevel"]')
	   .pause(300)
	   .click('a[href="/EHR/Clinicadmin/view-patient-details-open"]')
	   .waitForElementVisible('a[onclick="getPatientProfile()"]' , 60000)
	   .pause(500)
},	   
'Open Patient 2':function(browser){
	browser	   
	   .useCss()
	   .click('a[onclick="postNavigateToProfile('+id+',1);"]')
	   .waitForElementVisible('#patient_first_name' , 60000)
	   .pause(500)
	   .click('a[onclick="doGetTreatments();"]')
	   .waitForElementVisible('button[onclick="openStartTreatment();"]' , 60000)
	   .pause(500)
	   .useXpath()
	   .click("//*[@id='treatmentformsContent']/div[2]/span/button")
	   .useCss()
	   .waitForElementVisible('button[onclick="addSoapNotes();"]' , 60000)
	   .pause(500)
	   .useXpath()
	   .getLocationInView("//*[@id='treatmentformsContent']/div/a[text()='Initial Exam Screen 8 -']")
	   .pause(500)
	   .getLocationInView("//*[@id='treatmentformsContent']/div/a[text()='Initial Exam Screen 5 -']")
	   .pause(500)
	   .click("//*[@id='treatmentformsContent']/div/a[text()='Initial Exam Screen 8 -']")
	   .useCss()
	   .waitForElementVisible('#btnExportTreatmentForm' , 60000)
	   .pause(500)
	   .getLocationInView('#diagnosisTen_id')
	   .pause(500)
	   .getLocationInView('#btnExportTreatmentForm')
	   .pause(500)
	   .click('#diagnosisOne_id')
	   .waitForElementVisible('#selectCategory' , 60000)
	   .pause(500)
	   .useXpath()
	   .click("//*[@id='selectCategory']/option[text()='"+category+"']")
	   .pause(500)
	   .useCss()
	   .setValue('input[placeholder="Search ICD-10 Code"]' , icd_code)
	   .pause(500)
	   .useXpath()
	   .verify.containsText("//*[@id='icdList']/tbody/tr[1]/td[2]" , icd_code)
	   .verify.containsText("//*[@id='icdList']/tbody/tr[1]/td[3]" , 'Edit '+Description)
	   .pause(1000)
	   .click("//*[@id='icdCodesList']/div/div/div[1]/button")
},
'Delete ICD category':function(browser){
	browser
	   .useXpath()
	   .pause(500)
	   .click("//*[@id='mainMenu']/ul/li[4]/a")
	   .pause(500)
	   .useCss()
	   .click('a[href="/EHR/Clinicadmin/ICDCodes"]')
	   .waitForElementVisible('#addnew' , 60000)
	   .pause(500)
	   .useXpath()
	   .click("//*[@id='form']/div/div/ul/li[1]/a")
	   .pause(500)
	   .useCss()
	   .click('a[href="/EHR/Clinicadmin/viewICDCategories"]')
	   .waitForElementVisible('input[placeholder="Search Sub Category"]' , 60000)
	   .pause(500)
	   .click('a[class="red tooltipsclass"]')
	   .waitForElementVisible('#removeicdcategory' , 60000)
	   .pause(500)
	   .click('#icd_category_delete_yes')
	   .waitForElementVisible('#checkicdcategoryalert' , 60000)
	   .pause(500)
	   .useXpath()
	   .click("//*[@id='checkicdcategoryalert']/div/div/div[3]/button")
	   
	   
},
 'Edit Category & Enter Sub Category':function(browser){
 	browser 
 	   .useCss()
 	   .pause(500)
 	   .click('a[class="orange tooltipsclass"]')
 	   .waitForElementVisible('#icdmaincategory' , 60000)
 	   .pause(500)
 	   .clearValue('#icdmaincategory')
 	   .setValue('#icdmaincategory' , category+" Edit")
 	   .pause(500)
 	   .click('button[onclick="return saveICDCategory();"]')
 	   .pause(1500)
 	   .click('a[class="green tooltipsclass"]')
 	   .waitForElementVisible('#icdsubcategory' , 60000)
 	   .pause(500)
 	   .setValue('#icdsubcategory' , ICD_Sub_Category)
 	   .pause(400)
 	   .click('button[onclick="return saveICDSubCategory();"]')
 	   .pause(1500)
 	   .click('a[class="green tooltipsclass"]')
 	   .waitForElementVisible('#icdsubcategory' , 60000)
 	   .pause(500)
 	   .setValue('#icdsubcategory' , ICD_Sub_Category)
 	   .pause(560)
 	   .click('button[onclick="return saveICDSubCategory();"]')
 	   .pause(1000)
 	   .verify.visible('#icdsubcategory_Error')
 	   .pause(300)
 	   .useXpath()
 	   .click("//*[@id='addOrEditICDSubCategory']/div/div/div[3]/button[1]")
 	   .pause(500)

 },
 'Open Patient File 3':function(browser){
	browser
	   .useCss()
	   .click('a[class="firstLevel"]')
	   .pause(300)
	   .click('a[href="/EHR/Clinicadmin/view-patient-details-open"]')
	   .waitForElementVisible('a[onclick="getPatientProfile()"]' , 60000)
	   .pause(500)
},	   
 'Open Patient 3':function(browser){
	browser	   
	   .useCss()
	   .click('a[onclick="postNavigateToProfile('+id+',1);"]')
	   .waitForElementVisible('#patient_first_name' , 60000)
	   .pause(500)
	   .click('a[onclick="doGetTreatments();"]')
	   .waitForElementVisible('button[onclick="openStartTreatment();"]' , 60000)
	   .pause(500)
	   .useXpath()
	   .click("//*[@id='treatmentformsContent']/div[2]/span/button")
	   .useCss()
	   .waitForElementVisible('button[onclick="addSoapNotes();"]' , 60000)
	   .pause(500)
	   .useXpath()
	   .getLocationInView("//*[@id='treatmentformsContent']/div/a[text()='Initial Exam Screen 8 -']")
	   .pause(500)
	   .getLocationInView("//*[@id='treatmentformsContent']/div/a[text()='Initial Exam Screen 5 -']")
	   .pause(500)
	   .click("//*[@id='treatmentformsContent']/div/a[text()='Initial Exam Screen 8 -']")
	   .useCss()
	   .waitForElementVisible('#btnExportTreatmentForm' , 60000)
	   .pause(500)
	   .getLocationInView('#diagnosisTen_id')
	   .pause(500)
	   .getLocationInView('#btnExportTreatmentForm')
	   .pause(500)
	   .click('#diagnosisOne_id')
	   .waitForElementVisible('#selectCategory' , 60000)
	   .pause(500)
	   .useXpath()
	   .click("//*[@id='selectCategory']/option[text()='"+category+" Edit']")
	   .pause(500)
	   .useCss()
	   .waitForElementVisible('#selectSubCategory' , 60000)
	   .pause(500)
	   .useXpath()
	   .click("//*[@id='icdCodesList']/div/div/div[1]/button")
	   .pause(500)
	   
},
'Delete ICD Codes':function(browser){
	browser
	   .useXpath()
	   .pause(500)
	   .click("//*[@id='mainMenu']/ul/li[4]/a")
	   .pause(500)
	   .useCss()
	   .click('a[href="/EHR/Clinicadmin/ICDCodes"]')
	   .waitForElementVisible('#addnew' , 60000)
	   .pause(500)
	   .setValue('input[placeholder="Search ICD-10 Code"]' , icd_code)
	   .pause(500)
	   .click('a[class="red tooltipsclass"]')
	   .waitForElementVisible('#deleteicdCode' , 60000)
	   .pause(500)
	   .click('#icd_code_delete_yes')
	   .pause(500)
},
'Delete ICD chategories 2':function(browser){
	browser
	   .useCss()
	   .pause(1000)
	   .useXpath()
	   .click("//*[@id='form']/div/div/ul/li[1]/a")
	   .pause(500)
	   .useCss()
	   .click('a[href="/EHR/Clinicadmin/viewICDCategories"]')
	   .waitForElementVisible('input[placeholder="Search Sub Category"]' , 60000)
	   .pause(1500)
	   .useXpath()
	   .click("html/body/div[1]/section/section/div/div/div[1]/div[2]/div[2]/div/table/tbody/tr[2]/td[2]/span/a[2]")
	   .useCss()
	   .waitForElementVisible('#removeicdsubcategory' , 60000)
	   .pause(500)
	   .click('#icd_sub_category_delete_yes')
	   .pause(1000)
	   .click('a[class="red tooltipsclass"]')
	   .waitForElementVisible('#removeicdcategory' , 60000)
	   .pause(500)
	   .click('#icd_category_delete_yes')

},
'Open Patient File 4':function(browser){
	browser
	   .useCss()
	   .click('a[class="firstLevel"]')
	   .pause(300)
	   .click('a[href="/EHR/Clinicadmin/view-patient-details-open"]')
	   .waitForElementVisible('a[onclick="getPatientProfile()"]' , 60000)
	   .pause(500)
},	   
'Open Patient 4':function(browser){
	browser	   
	   .useCss()
	   .click('a[onclick="postNavigateToProfile('+id+',1);"]')
	   .waitForElementVisible('#patient_first_name' , 60000)
	   .pause(500)
	   .click('a[onclick="doGetTreatments();"]')
	   .waitForElementVisible('button[onclick="openStartTreatment();"]' , 60000)
	   .pause(500)
	   .useXpath()
	   .click("//*[@id='treatmentformsContent']/div[2]/span/button")
	   .useCss()
	   .waitForElementVisible('button[onclick="addSoapNotes();"]' , 60000)
	   .pause(500)
	   .useXpath()
	   .getLocationInView("//*[@id='treatmentformsContent']/div/a[text()='Initial Exam Screen 8 -']")
	   .pause(500)
	   .getLocationInView("//*[@id='treatmentformsContent']/div/a[text()='Initial Exam Screen 5 -']")
	   .pause(500)
	   .click("//*[@id='treatmentformsContent']/div/a[text()='Initial Exam Screen 8 -']")
	   .useCss()
	   .waitForElementVisible('#btnExportTreatmentForm' , 60000)
	   .pause(500)
	   .getLocationInView('#diagnosisTen_id')
	   .pause(500)
	   .getLocationInView('#btnExportTreatmentForm')
	   .pause(500)
	   .click('#diagnosisOne_id')
	   .waitForElementVisible('#selectCategory' , 60000)
	   .pause(500)
	   .useXpath()
	   .verify.elementNotPresent("//*[@id='selectCategory']/option[text()='"+category+"']")
	   .pause(500)
	   .end()
}
}