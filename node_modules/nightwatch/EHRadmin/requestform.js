var Data = require('../EHR_Json/data.json')

var user_name;
var id;

module.exports={
    login : function (browser) {
        browser 
        .login(Data.user1[1].username, Data.user1[1].password)

},
'view files' : function (browser){
      browser
       .pause(1000)      
       .useCss()
       .click('a[class="firstLevel"]')
       .pause(500)
       .click('a[href="/EHR/Clinicadmin/view-patient-details-open"]')
       .waitForElementVisible('a[onclick="getPatientProfile()"]' , 60000)
       .pause(500)
       .useXpath()
       .getText("//*[@id='patient']/tbody/tr[1]/td[1]" , function(result){
       	      id=result.value
       })
       .pause(200)
       .click("//*[@id='patient']/tbody/tr/td[6]/a/i")
       .useCss()
       .waitForElementVisible('#patient_first_name' , 60000)
       .pause(500)
       .getText('#usernameId' , function(result){
       	 user_name=result.value.substr(11)
       })
       .pause(500)
       .click('a[href="/EHR/EHR/j_spring_security_logout"]')

},
'Patient Login':function(browser){
	browser
	   .useCss()
	   .waitForElementVisible('#username_id' , 60000)
       .pause(500)
       .setValue('#username_id' , user_name)
       .setValue('#password_id' , user_name)
       .pause(500)
       .click('button[class="btn btn-primary"][type="submit"]')
       .waitForElementVisible('a[href="/EHR/Patient/patient-dashboard"]' , 60000)
       .pause(500)
       .isVisible('#confirmpassword' , function(result){
       	      if(result.value==true){
       	      	  browser
       	      	    .waitForElementVisible('#confirmpassword' , 60000)
       	      	    .pause(500)
       	      	    .setValue('#password' , user_name)
       	      	    .setValue('input[name="confirmpassword"]' , user_name)
       	      	    .pause(300)
       	      	    .click('button[onclick="return savepassword()"]')
       	      	    .waitForElementVisible('a[href="/EHR/Patient/patient-dashboard"]' , 60000)
       	      	    .pause(1500)
       	      }
       })
    browser
       .useCss()
       .pause(1000)
       .click('a[href="/EHR/Patient/patient-view-medical-history"]')  
       .waitForElementVisible('a[onclick="doRequestAllSelected()"]' , 60000) 
       .pause(800)
       .click('a[onclick="doRequestAllSelected()"]')
       .waitForElementVisible('#alertForRequestRecord' , 60000)
       .pause(500)
       .verify.visible('#alertForRequestRecord')
       .pause(300)
       .click('button[class="btn btn-danger"][type="button"]')
       .waitForElementVisible('a[onclick="doRequestAllSelected()"]' , 60000)
       .pause(500)
       .click('input[name="patientForm"][value="4"]')
       .click('input[name="patientForm"][value="6"]')
       .click('input[name="patientForm"][value="8"]')
       .pause(500)
       .click('a[onclick="doRequestAllSelected()"]')
       .waitForElementVisible('#alertForRequestRecord' , 60000)
       .pause(500)
       .verify.visible('#alertForRequestRecord')
       .pause(300)
       .click('button[class="btn btn-danger"][type="button"]')
       .waitForElementVisible('a[onclick="doRequestAllSelected()"]' , 60000)
       .pause(500)
       .verify.visible('input[name="patientForm"][value="4"][disabled="disabled"]')
       .verify.visible('input[name="patientForm"][value="6"][disabled="disabled"]')
       .verify.visible('input[name="patientForm"][value="8"][disabled="disabled"]')
       .verify.visible('a[onclick="doCancelSinglePatientForm(4)"]')
       .verify.visible('a[onclick="doCancelSinglePatientForm(6)"]')
       .verify.visible('a[onclick="doCancelSinglePatientForm(8)"]')
       .pause(500)
       .click('a[href="/EHR/EHR/j_spring_security_logout"]')
},
'Admin Login':function(browser){
	browser
	   .useCss()
	   .waitForElementVisible('#username_id' , 60000)
	   .pause(500)
	   .setValue('#username_id' , Data.user1[1].username)
	   .setValue('#password_id' , Data.user1[1].password)
	   .pause(500)
	   .click('button[type="submit"]')
	   .waitForElementVisible('a[class=""]' , 60000)
	   .pause(500)
	   .click('a[class="firstLevel"]')
	   .pause(500)
	   .click('a[href="/EHR/Clinicadmin/view-patient-details-open"]')
	   .waitForElementVisible('a[onclick="getPatientProfile()"]' , 60000)
	   .pause(500)
	   .useXpath()
	   .waitForElementVisible("//*[@id='patient']/tbody/tr[1]/td[6]/a/i" , 60000)
	   .pause(500)
	   .click("//*[@id='patient']/tbody/tr[1]/td[6]/a/i")
	   .useCss()
	   .waitForElementVisible('#patient_first_name' , 60000)
	   .pause(500)
	   .click('a[onclick="doGetRequestRecord();"]')
	   .waitForElementVisible('a[onclick="doApproveOrRejectAllSelected(1)"]' , 60000)
	   .pause(500)
	   .verify.elementNotPresent('input[name="patientForm"][value="4"][disabled="disabled"]')
	   .verify.elementNotPresent('input[name="patientForm"][value="6"][disabled="disabled"]')
	   .verify.elementNotPresent('input[name="patientForm"][value="8"][disabled="disabled"]')
	   .click('a[onclick="doApproveOrRejectAllSelected(1)"]')
	   .waitForElementVisible('#alertForRequestRecord' , 60000)
       .pause(500)
	   .verify.visible('#alertForRequestRecord')
	   .pause(500)
	   .useXpath()
	   .click("//*[@id='alertForRequestRecord']/div/div/div[3]/button")
	   .useCss()
	   .pause(500)
	   .click('a[onclick="doApproveOrRejectAllSelected(3)"]')
	   .waitForElementVisible('#alertForRequestRecord' , 60000)
       .pause(500)
	   .verify.visible('#alertForRequestRecord')
	   .pause(500)
	   .useXpath()
	   .click("//*[@id='alertForRequestRecord']/div/div/div[3]/button")
	   .pause(500)
	   .useCss()
	   .click('input[name="patientForm"][value="4"]')
	   .click('a[onclick="doApproveOrRejectAllSelected(1)"]')
	   .waitForElementVisible('#alertForRequestRecord' , 60000)
       .pause(500)
	   .verify.visible('#alertForRequestRecord')
	   .pause(500)
	   .useXpath()
	   .click("//*[@id='alertForRequestRecord']/div/div/div[3]/button")
	   .useCss()
	   .pause(800)
	   .getLocationInView('input[name="patientForm"][value="8"]')
	   .pause(1000)
	   .getLocationInView('a[onclick="doApproveOrRejectAllSelected(3)"]')
	   .pause(1000)
	   .click('a[onclick="doApproveOrRejectSinglePatientForm(6,1)"]')
	   .waitForElementVisible('#alertForRequestRecord' , 60000)
       .pause(500)
	   .verify.visible('#alertForRequestRecord')
	   .pause(500)
	   .useXpath()
	   .click("//*[@id='alertForRequestRecord']/div/div/div[3]/button")
	   .pause(500)
	   .useCss()
	   .click('a[onclick="doApproveOrRejectSinglePatientForm(8,3)"]')
	   .waitForElementVisible('#alertForRequestRecord' , 60000)
       .pause(500)
	   .verify.visible('#alertForRequestRecord')
	   .pause(500)
	   .useXpath()
	   .click("//*[@id='alertForRequestRecord']/div/div/div[3]/button")
	   .pause(500)
	   .useXpath()
	   .verify.containsText("//*[@id='requestRecordsDiv']/div[5]/div[4]/span/span[1]" , 'Approved')
	   .verify.containsText("//*[@id='requestRecordsDiv']/div[6]/div[4]/span/span[1]" , 'Approved')
	   .verify.containsText("//*[@id='requestRecordsDiv']/div[7]/div[4]/span/span[1]" , 'Rejected')
	   .useCss()
	   .pause(500)
	   .click('a[href="/EHR/EHR/j_spring_security_logout"]')
},
'Patient Login 2':function(browser){
	browser	 
	   .useCss()  
	   .waitForElementVisible('#username_id' , 60000)
	   .pause(500)
	   .setValue('#username_id' , user_name)
	   .setValue('#password_id' , user_name)
	   .pause(500)
	   .click('button[type="submit"]')
	   .waitForElementVisible('a[href="/EHR/Patient/patient-dashboard"]' , 60000)
	   .pause(500)
	   .click('a[href="/EHR/Patient/patient-view-medical-history"]')
	   .waitForElementVisible('#selectall_id' , 60000)
	   .pause(500)
	   .useXpath()
	   .verify.containsText("//*[@id='requestRecordsDiv']/div[4]/div[4]/span/a" , 'View Form')
	   .verify.containsText("//*[@id='requestRecordsDiv']/div[5]/div[4]/span/a" , 'View Form')
	   .useCss()
	   .verify.visible('a[onclick="doRequestSinglePatientForm(8)"]')
	   .verify.visible('input[name="patientForm"][value="4"][disabled="disabled"]')
	   .verify.visible('input[name="patientForm"][value="6"][disabled="disabled"]')
	   .verify.elementNotPresent('input[name="patientForm"][value="8"][disabled="disabled"]')
	   .useXpath()
	   .verify.containsText("//*[@id='requestRecordsDiv']/div[6]/div[4]/span/span[1]/small" , 'Please contact clinic')
	   .useCss()
	   .pause(500)
	   .click('a[href="/EHR/EHR/j_spring_security_logout"]')



},
'Admin Login 2':function(browser){
	browser
	   .useCss()
	   .waitForElementVisible('#username_id' , 60000)
	   .pause(500)
	   .setValue('#username_id' , Data.user1[1].username)
	   .setValue('#password_id' , Data.user1[1].password)
	   .pause(500)
	   .click('button[type="submit"]')
	   .waitForElementVisible('a[class=""]' , 60000)
	   .pause(500)
	   .click('a[class="firstLevel"]')
	   .pause(500)
	   .click('a[href="/EHR/Clinicadmin/view-patient-records"]')
	   .waitForElementVisible('input[id="Patient ID"][class="column_filter"]' , 60000)
	   .pause(500)
	   .setValue('input[id="Patient ID"][class="column_filter"]' , id)
	   .pause(500)
	   .click('a[onclick="doCancelRequestRecordWhole('+id+')"]')
	   .waitForElementVisible('#myModal' , 60000)
	   .pause(500)
	   .useXpath()
	   .click("//*[@id='myModal']/div/div/div[3]/button")
	   .pause(500)
	   .useCss()
	   .click('a[href="/EHR/EHR/j_spring_security_logout"]')
},
'Patient Login 3':function(browser){
	browser
	   .useCss()  
	   .waitForElementVisible('#username_id' , 60000)
	   .pause(500)
	   .setValue('#username_id' , user_name)
	   .setValue('#password_id' , user_name)
	   .pause(500)
	   .click('button[type="submit"]')
	   .waitForElementVisible('a[href="/EHR/Patient/patient-dashboard"]' , 60000)
	   .pause(500)
	   .click('a[href="/EHR/Patient/patient-view-medical-history"]')
	   .waitForElementVisible('#selectall_id' , 60000)
	   .pause(500)
	   .verify.visible('a[onclick="doRequestSinglePatientForm(4)"]')
	   .click('a[onclick="doRequestSinglePatientForm(4)"]')
	   .waitForElementVisible('#alertForRequestRecord' , 60000)
       .pause(500)
       .verify.visible('#alertForRequestRecord')
       .pause(300)
       .click('button[class="btn btn-danger"][type="button"]')
       .waitForElementVisible('a[onclick="doRequestAllSelected()"]' , 60000)
       .pause(500)
       .click('a[href="/EHR/EHR/j_spring_security_logout"]')

},
'Admin Login 3':function(browser){
	browser
	   .useCss()  
	   .waitForElementVisible('#username_id' , 60000)
	   .pause(500)
	   .setValue('#username_id' , Data.user1[1].username)
	   .setValue('#password_id' , Data.user1[1].password)
	   .pause(500)
	   .click('button[type="submit"]')
	   .waitForElementVisible('a[class="firstLevel"]' , 60000)
	   .pause(500)
	   .click('a[class="firstLevel"]')
       .pause(500)
       .click('a[href="/EHR/Clinicadmin/view-patient-details-open"]')
       .waitForElementVisible('a[onclick="getPatientProfile()"]' , 60000)
       .pause(500)
       .useXpath()
       .click("//*[@id='patient']/tbody/tr/td[6]/a/i")
       .useCss()
       .waitForElementVisible('#patient_first_name' , 60000)
       .pause(500)
	   .click('a[onclick="doGetRequestRecord();"]')
	   .waitForElementVisible('a[onclick="doApproveOrRejectAllSelected(1)"]' , 60000)
	   .pause(500)
	   .verify.elementNotPresent('input[name="patientForm"][value="4"][disabled="disabled"]')
	   .verify.visible('a[onclick="doApproveOrRejectSinglePatientForm(4,1)"]')
	   .verify.visible('a[onclick="doApproveOrRejectSinglePatientForm(4,3)"]')
	   .pause(500)
	   .click('a[href="/EHR/EHR/j_spring_security_logout"]')

},
'Patient Login 4':function(browser){
	browser
	   .useCss()  
	   .waitForElementVisible('#username_id' , 60000)
	   .pause(500)
	   .setValue('#username_id' , user_name)
	   .setValue('#password_id' , user_name)
	   .pause(500)
	   .click('button[type="submit"]')
	   .waitForElementVisible('a[href="/EHR/Patient/patient-dashboard"]' , 60000)
	   .pause(500)
	   .click('a[href="/EHR/Patient/patient-view-medical-history"]')
	   .waitForElementVisible('#selectall_id' , 60000)
	   .pause(500)
	   .click('a[onclick="doCancelSinglePatientForm(4)"]')
	   .waitForElementVisible('#alertForRequestRecord' , 60000)
       .pause(500)
	   .verify.visible('#alertForRequestRecord')
	   .pause(500)
	   .useXpath()
	   .click("//*[@id='alertForRequestRecord']/div/div/div[3]/button")
	   .pause(500)
	   .useCss()
	   .verify.elementNotPresent('input[name="patientForm"][value="4"][disabled="disabled"]')
	   .pause(500)
	   .click('a[href="/EHR/EHR/j_spring_security_logout"]')
},
'Admin Login 4':function(browser){
	browser
	   .useCss()  
	   .waitForElementVisible('#username_id' , 60000)
	   .pause(500)
	   .setValue('#username_id' , Data.user1[1].username)
	   .setValue('#password_id' , Data.user1[1].password)
	   .pause(500)
	   .click('button[type="submit"]')
	   .waitForElementVisible('a[class="firstLevel"]' , 60000)
	   .pause(500)
	   .click('a[class="firstLevel"]')
       .pause(500)
       .click('a[href="/EHR/Clinicadmin/view-patient-details-open"]')
       .waitForElementVisible('a[onclick="getPatientProfile()"]' , 60000)
       .pause(500)
       .useXpath()
       .click("//*[@id='patient']/tbody/tr/td[6]/a/i")
       .useCss()
       .waitForElementVisible('#patient_first_name' , 60000)
       .pause(500)
	   .click('a[onclick="doGetRequestRecord();"]')
	   .waitForElementVisible('a[onclick="doApproveOrRejectAllSelected(1)"]' , 60000)
	   .pause(500)
	   .verify.visible('input[name="patientForm"][value="4"][disabled="disabled"]')
	   .verify.elementNotPresent('a[onclick="doApproveOrRejectSinglePatientForm(4,1)"]')
	   .verify.elementNotPresent('a[onclick="doApproveOrRejectSinglePatientForm(4,3)"]')
	   .pause(500)
	   .end()

}
}