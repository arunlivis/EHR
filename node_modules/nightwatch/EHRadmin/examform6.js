var Data = require('../EHR_Json/data.json')
var thoracic_myotomes=[].sort();  var aa1=[];  var tho=[];
var myotomes=[].sort();           var aa2=[];  var myo=[];
var present=[].sort();            var aa3=[];  var pre=[];
var visual=[].sort();             var aa4=[];  var vis=[];
var cervical_c5right=[];   var a;
var cervical_c5left=[];    var f;
var cervical_c6right=[];   var b;
var cervical_c6left=[];    var g;
var cervical_c7right=[];   var c;
var cervical_c7left=[];    var h;
var cervical_c8right=[];   var d;
var cervical_c8left=[];    var j;
var cervical_t1right=[];   var e;
var cervical_t1left=[];    var k;
var deep_c5tight=[];       var l;
var deep_c5left=[];        var o;
var deep_c6right=[];       var m;
var deep_c6left=[];        var p;
var deep_c7right=[];       var n;
var deep_c7left=[];        var q;
var text=[];               var t1=[];
var lumbar_l2right=[];     var u;
var lumbar_l2left=[];      var y;
var lumbar_l3right=[];     var v;
var lumbar_l3left=[];      var z;
var lumbar_l4right=[];     var w;
var lumbar_l4left=[];      var aa;
var lumbar_l5right=[];     var x;
var lumbar_l5left=[];      var ab;
var lumbar_heelright=[];   var ac;
var lumbar_heelleft=[];    var ae;
var lumbar_toeright=[];    var ad;
var lumbar_toeleft=[];     var af;
var deep_Patellarright=[]; var ag;
var deep_Patellarleft=[];  var aj;
var deep_Achillesright=[]; var ah;
var deep_Achillesleft=[];  var ak;
var deep_UMNLright=[];     var al;
var deep_UMNLleft=[];      var am;
var others1=[];   var oth1=[];
var abcz;
var t;

module.exports={
	login : function (browser) {
		browser 
		.login(Data.user1[1].username, Data.user1[1].password)
},
'view files' : function (browser){
      browser
      .pause(1000)      
       .useXpath()
       .click("//*[@id='mainMenu']/ul/li[2]/a")
       .pause(500)
       .click("//*[@id='mainMenu']/ul/li[2]/ul/li[1]/a")
       .waitForElementVisible("//*[@id='page']/header/div/div/div/h1" , 60000)
       .pause(500)
       .click("//*[@id='patient']/tbody/tr/td[6]/a/i")
       .waitForElementVisible("//*[@id='mainContent']/div[8]/ul/li[1]/a" , 60000)
     },
'Exam Forms' : function(browser){
  browser
       .pause(2000)
       .useXpath()
       .click("//*[@id='mainContent']/div[8]/ul/li[4]/a")
       .waitForElementVisible("//*[@id='treatmentformsContent']/div[1]/span[3]/button" , 60000)
       .pause(500)
},
'Treatment Plan 1' : function (browser){
  browser
      .pause(2000)
      .useXpath()
      .click("//*[@id='treatmentformsContent']/div[2]/span/button")
      .waitForElementVisible("//*[@id='treatmentformsContent']/div[1]/span[2]" , 60000)
      .pause(500)
},
'Initial Exam Screen 6' : function (browser){
  a=Math.floor((Math.random()*6)+1)
  b=Math.floor((Math.random()*6)+1)
  c=Math.floor((Math.random()*6)+1)
  d=Math.floor((Math.random()*6)+1)
	e=Math.floor((Math.random()*6)+1)
  browser
        .useXpath()
        .waitForElementVisible("//*[@id='treatmentformsContent']/div/a[text()='Initial Exam Screen 6 -']" , 60000)
        .pause(500)
        .getLocationInView("//*[@id='treatmentformsContent']/div/a[text()='Initial Exam Screen 6 -']")
        .pause(500)
        .getLocationInView("//*[@id='treatmentformsContent']/div/a[text()='Initial Exam Screen 4 -']")
        .pause(1000)
        .click("//*[@id='treatmentformsContent']/div/a[text()='Initial Exam Screen 6 -']")
        .waitForElementVisible("//*[@id='treatmentformsContent']/div[1]/span[2]" , 60000)
        .pause(500)
        .exam6(thoracic_myotomes,myotomes,present,visual)
        .pause(500)
        .useCss()
        .getLocationInView('#cardioRespiratoryExam_id')
        .pause(500)
        .useXpath()
        .getLocationInView("//*[@id='formid']/div/div[1]/div/input")
        .pause(500)
        .click("//*[@id='formid']/div/div[5]/div[2]/div/label["+a+"]")
        .click("//*[@id='formid']/div/div[6]/div[2]/div/label["+b+"]")
        .click("//*[@id='formid']/div/div[7]/div[2]/div/label["+c+"]")
        .click("//*[@id='formid']/div/div[8]/div[2]/div/label["+d+"]")
        .click("//*[@id='formid']/div/div[9]/div[2]/div/label["+e+"]")

        f=Math.floor((Math.random()*6)+1)
        g=Math.floor((Math.random()*6)+1)
        h=Math.floor((Math.random()*6)+1)
        j=Math.floor((Math.random()*6)+1)
        k=Math.floor((Math.random()*6)+1)
  browser
        .useXpath()
        .click("//*[@id='formid']/div/div[5]/div[3]/div/label["+f+"]")
        .click("//*[@id='formid']/div/div[6]/div[3]/div/label["+g+"]")
        .click("//*[@id='formid']/div/div[7]/div[3]/div/label["+h+"]")
        .click("//*[@id='formid']/div/div[8]/div[3]/div/label["+j+"]")
        .click("//*[@id='formid']/div/div[9]/div[3]/div/label["+k+"]")

        l=Math.floor((Math.random()*5)+1)
        m=Math.floor((Math.random()*5)+1)
        n=Math.floor((Math.random()*5)+1)
  browser
        .useXpath()
        .click("//*[@id='formid']/div/div[12]/div[2]/div/label["+l+"]")
        .click("//*[@id='formid']/div/div[13]/div[2]/div/label["+m+"]")
        .click("//*[@id='formid']/div/div[14]/div[2]/div/label["+n+"]")

        o=Math.floor((Math.random()*5)+1)
        p=Math.floor((Math.random()*5)+1)
        q=Math.floor((Math.random()*5)+1)
  browser
        .useXpath()
        .click("//*[@id='formid']/div/div[12]/div[3]/div/label["+o+"]")
        .click("//*[@id='formid']/div/div[13]/div[3]/div/label["+p+"]")
        .click("//*[@id='formid']/div/div[14]/div[3]/div/label["+q+"]")

        .useCss()
        .pause(500)
        .getLocationInView('#toeWalkS12Right1_id')
        .pause(500)
        .getLocationInView('#tricepC78Right1_id')
        .pause(500)

        for(i=0; i<2; i++){
          r=Math.floor((Math.random()*2)+1)
          s=Math.floor((Math.random()*2)+1)
          thoracic_myotomes.push(r)
          myotomes.push(s)
          browser
          .useXpath()
          .click("//*[@id='formid']/div/div[17]/div/div/label["+r+"]")
          .click("//*[@id='formid']/div/div[18]/div/div/label["+s+"]")
        }
for(i=0; i<1; i++){
        var ss=['cardio' , 'respiratory' , 'exam']
        t=ss[Math.floor(Math.random()*ss.length)]
        browser
        .useCss()
        .clearValue('#cardioRespiratoryExam_id')
        .setValue('#cardioRespiratoryExam_id' , t)
        if(t=="cardio"){
          t1.push(0)
        }
        if(t=="respiratory"){
          t1.push(1)
        }
        if(t=="exam"){
          t1.push(2)
        }
      }

        u=Math.floor((Math.random()*6)+1)
        v=Math.floor((Math.random()*6)+1)
         y=Math.floor((Math.random()*6)+1)
          z=Math.floor((Math.random()*6)+1)
        browser
          .useXpath()
          .click("//*[@id='formid']/div/div[23]/div[2]/div/label["+u+"]")
          .click("//*[@id='formid']/div/div[24]/div[2]/div/label["+v+"]")
          .click("//*[@id='formid']/div/div[23]/div[3]/div/label["+y+"]")
          .click("//*[@id='formid']/div/div[24]/div[3]/div/label["+z+"]")

          aa=Math.floor((Math.random()*6)+1)
          ab=Math.floor((Math.random()*6)+1)
           w=Math.floor((Math.random()*6)+1)
        x=Math.floor((Math.random()*6)+1)
        browser
        .useCss()
        .pause(1000)
        .getLocationInView('#dorsiflexL4Right1_id')
        .pause(1000)
        .getLocationInView('#cardioRespiratoryExam_id')
        .pause(1000)
          .useXpath()
          .click("//*[@id='formid']/div/div[25]/div[2]/div/label["+w+"]")
          .click("//*[@id='formid']/div/div[26]/div[2]/div/label["+x+"]")
          .click("//*[@id='formid']/div/div[25]/div[3]/div/label["+aa+"]")
          .click("//*[@id='formid']/div/div[26]/div[3]/div/label["+ab+"]")

          .pause(1500)
          .useCss()
          .getLocationInView('#visualid')
          .pause(1500)
          .getLocationInView('#dorsiflexL4Right1_id')
          .pause(1500)
          ac=Math.floor((Math.random()*2)+1)
          ad=Math.floor((Math.random()*2)+1)
          ae=Math.floor((Math.random()*2)+1)
          af=Math.floor((Math.random()*2)+1)
          browser
          .useXpath()
          .click("//*[@id='formid']/div/div[27]/div[2]/div/label["+ac+"]")
          .click("//*[@id='formid']/div/div[28]/div[2]/div/label["+ad+"]")
          .click("//*[@id='formid']/div/div[27]/div[3]/div/label["+ae+"]")
          .click("//*[@id='formid']/div/div[28]/div[3]/div/label["+af+"]")
          
          ag=Math.floor((Math.random()*6)+1)
          ah=Math.floor((Math.random()*6)+1)
          aj=Math.floor((Math.random()*6)+1)
          ak=Math.floor((Math.random()*6)+1)
          browser
          .useXpath()
          .click("//*[@id='formid']/div/div[31]/div[2]/div/label["+ag+"]")
          .click("//*[@id='formid']/div/div[32]/div[2]/div/label["+ah+"]")
          .click("//*[@id='formid']/div/div[31]/div[3]/div/label["+aj+"]")
          .click("//*[@id='formid']/div/div[32]/div[3]/div/label["+ak+"]")

           al=Math.floor((Math.random()*2)+1)
           am=Math.floor((Math.random()*2)+1)
          browser
          .useXpath()
          .click("//*[@id='formid']/div/div[33]/div[2]/div/label["+al+"]")
          .click("//*[@id='formid']/div/div[33]/div[3]/div/label["+am+"]")

          for(i=0; i<1; i++){
            present.push(1)
            browser
            .useCss()
            .click('#visualid')
            .pause(500)
          .isVisible('#visuaDisturbanceText_id' , function(result) {
            if(result.value==true){
               var abc=['eye exam' , 'auscultate' , 'carotid' , 'arterie']
               abcz=abc[Math.floor(Math.random()*abc.length)]
               //others1.push(abcz)
               browser
               .clearValue('#visuaDisturbanceText_id')
               .setValue('#visuaDisturbanceText_id' , abcz)
               if(abcz=='eye exam'){
                 others1.push(1)
               }
               if(abcz=='auscultate'){
                 others1.push(2)
               }
               if(abcz=='carotid'){
                 others1.push(3)
               }
               if(abcz=='arterie'){
                 others1.push(4)
               }
             }
           })
            
        }

          for(i=0; i<2;i++){
            an=Math.floor((Math.random()*2)+1)
            visual.push(an)
            browser
            .useXpath()
            .click("//*[@id='formid']/div/div[34]/div[3]/div/label["+an+"]")
          }
browser
          .pause(500)
          .useXpath()
          .getLocationInView("//*[@id='formid']/div/div[38]/button[3]")
          .pause(500)
          .useCss()
          .getLocationInView('#visualid')
          .pause(500)
          .useXpath()
          .click("//*[@id='formid']/div/div[38]/button[3]")
          .pause(1500)
          .getLocationInView("//*[@id='treatmentformsContent']/div/a[text()='Initial Exam Screen 8 -']")
          .pause(1500)
          .getLocationInView("//*[@id='treatmentformsContent']/div/a[text()='Initial Exam Screen 3 -']")
          .pause(1500)
          .click("//*[@id='treatmentformsContent']/div/a[text()='Initial Exam Screen 6 -']")
        .waitForElementVisible("//*[@id='treatmentformsContent']/div[1]/span[2]" , 60000)
        .pause(500)

        
    },
    'check':function(browser){
  browser
thoracic_myotomes.sort();

var current = null;
var cnt = 0;
for (var i = 0; i < thoracic_myotomes.length; i++) {
    if (thoracic_myotomes[i] != current) {
        if (cnt > 0) {
           // console.log(current + ' comes --> ' + cnt + ' times<br>');
            if(cnt % 2 == 1){
      tho.push(current)
    }
        }
        current = thoracic_myotomes[i];
        cnt = 1;
    } else {
        cnt++;
    }
}
if (cnt > 0) {
   // console.log(current + ' comes --> ' + cnt + ' times');
    if(cnt % 2 == 1){
      tho.push(current)
    }
}

//-------------------------------------------------------------------------------------------
myotomes.sort();

var current = null;
var cnt = 0;
for (var i = 0; i < myotomes.length; i++) {
    if (myotomes[i] != current) {
        if (cnt > 0) {
           // console.log(current + ' comes --> ' + cnt + ' times<br>');
            if(cnt % 2 == 1){
      myo.push(current)
    }
        }
        current = myotomes[i];
        cnt = 1;
    } else {
        cnt++;
    }
}
if (cnt > 0) {
   // console.log(current + ' comes --> ' + cnt + ' times');
    if(cnt % 2 == 1){
      myo.push(current)
    }
}

//-------------------------------------------------------------------------------------------
present.sort();

var current = null;
var cnt = 0;
for (var i = 0; i < present.length; i++) {
    if (present[i] != current) {
        if (cnt > 0) {
           // console.log(current + ' comes --> ' + cnt + ' times<br>');
            if(cnt % 2 == 1){
      pre.push(current)
    }
        }
        current = present[i];
        cnt = 1;
    } else {
        cnt++;
    }
}
if (cnt > 0) {
   // console.log(current + ' comes --> ' + cnt + ' times');
    if(cnt % 2 == 1){
      pre.push(current)
    }
}

//-------------------------------------------------------------------------------------------
visual.sort();

var current = null;
var cnt = 0;
for (var i = 0; i < visual.length; i++) {
    if (visual[i] != current) {
        if (cnt > 0) {
           // console.log(current + ' comes --> ' + cnt + ' times<br>');
            if(cnt % 2 == 1){
      vis.push(current)
    }
        }
        current = visual[i];
        cnt = 1;
    } else {
        cnt++;
    }
}
if (cnt > 0) {
   // console.log(current + ' comes --> ' + cnt + ' times');
    if(cnt % 2 == 1){
      vis.push(current)
    }
}

//-------------------------------------------------------------------------------------------
browser
  .pause(500)
  .examform6(cervical_c5right, cervical_c5left, cervical_c6right, cervical_c6left, cervical_c7right, cervical_c7left, cervical_c8right, cervical_c8left, 
          cervical_t1right, cervical_t1left, deep_c5tight, deep_c5left, deep_c6right, deep_c6left, deep_c7right, deep_c7left, aa1, aa2, text, lumbar_l2right, 
          lumbar_l2left, lumbar_l3right, lumbar_l3left, lumbar_l4right, lumbar_l4left, lumbar_l5right, lumbar_l5left, lumbar_heelright, lumbar_heelleft, 
          lumbar_toeright, lumbar_toeleft, deep_Patellarright, deep_Patellarleft, deep_Achillesright, deep_Achillesleft, deep_UMNLright, deep_UMNLleft ,aa3 ,
          aa4, oth1,a,f,b,g,c,h,d,j,e,k,l,o,m,p,n,q,u,y,v,z,w,aa,x,ab,ac,ae,ad,af,ag,aj,ah,ak,al,am,tho,myo,pre,abcz,vis,t)
  .pause(500)
  .end()
},
'Result':''+ function (browser){
  browser
  console.log("thoracic_myotomes--->"+[JSON.stringify(aa1.sort())==JSON.stringify(tho.sort())])
  console.log("myotomes------------>"+[JSON.stringify(aa2.sort())==JSON.stringify(myo.sort())])
  console.log("present------------->"+[JSON.stringify(aa3.sort())==JSON.stringify(pre.sort())])
  console.log("visual-------------->"+[JSON.stringify(aa4.sort())==JSON.stringify(vis.sort())])
  console.log("cervical_c5right---->"+(cervical_c5right==a))
  console.log("cervical_c5left----->"+(cervical_c5left==f))
  console.log("cervical_c6right---->"+(cervical_c6right==b))
  console.log("cervical_c6left----->"+(cervical_c6left==g))
  console.log("cervical_c7right---->"+(cervical_c7right==c))
  console.log("cervical_c7left----->"+(cervical_c7left==h))
  console.log("cervical_c8right---->"+(cervical_c8right==d))
  console.log("cervical_c8left----->"+(cervical_c8left==j))
  console.log("cervical_t1right---->"+(cervical_t1right==e))
  console.log("cervical_t1left----->"+(cervical_t1left==k))
  console.log("deep_c5tight-------->"+(deep_c5tight==l))
  console.log("deep_c5left--------->"+(deep_c5left==o))
  console.log("deep_c6right-------->"+(deep_c6right==m))
  console.log("deep_c6left--------->"+(deep_c6left==p))
  console.log("deep_c7right-------->"+(deep_c7right==n))
  console.log("deep_c7left--------->"+(deep_c7left==q))
  console.log("text---------------->"+[JSON.stringify(text.sort())==JSON.stringify(t1.sort())])
  console.log("lumbar_l2right------>"+(lumbar_l2right==u))
  console.log("lumbar_l2left------->"+(lumbar_l2left==y))
  console.log("lumbar_l3right------>"+(lumbar_l3right==v))
  console.log("lumbar_l3left------->"+(lumbar_l3left==z))
  console.log("lumbar_l4right------>"+(lumbar_l4right==w))
  console.log("lumbar_l4left------->"+(lumbar_l4left==aa))
  console.log("lumbar_l5right------>"+(lumbar_l5right==x))
  console.log("lumbar_l5left------->"+(lumbar_l5left==ab))
  console.log("lumbar_heelright---->"+(lumbar_heelright==ac))
  console.log("lumbar_heelleft----->"+(lumbar_heelleft==ae))
  console.log("lumbar_toeright----->"+(lumbar_toeright==ad))
  console.log("lumbar_toeleft------>"+(lumbar_toeleft==af))
  console.log("deep_Patellarright-->"+(deep_Patellarright==ag))
  console.log("deep_Patellarleft--->"+(deep_Patellarleft==aj))
  console.log("deep_Achillesright-->"+(deep_Achillesright==ah))
  console.log("deep_Achillesleft--->"+(deep_Achillesleft==ak))
  console.log("deep_UMNLright------>"+(deep_UMNLright==al))
  console.log("deep_UMNLleft------->"+(deep_UMNLleft==am))
  console.log("present_other------->"+[JSON.stringify(others1.sort())==JSON.stringify(oth1.sort())])

 
}
}