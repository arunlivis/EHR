var Data = require('../EHR_Json/data.json')

module.exports={
    login : function (browser) {
        browser 
        .login(Data.user1[1].username, Data.user1[1].password)

},
'view files' : function (browser){
      browser
      .pause(1000)      
       .useCss()
       .click('a[class="firstLevel"]')
       .pause(500)
       .click('a[href="/EHR/Clinicadmin/view-patient-details-open"]')
       .waitForElementVisible('#col0_filter' , 60000)
       .useXpath()
       .pause(200)
       .click("//*[@id='patient']/tbody/tr/td[6]/a/i")
       .useCss()
       .waitForElementVisible('#patient_first_name' , 60000)
       .pause(500)
     },
'Assignment, Attorney/Insurance Lien':function(browser){
  browser
    .useXpath()
    .click("//*[@id='formtab']/a")
    .waitForElementVisible("//*[@id='formsContent']/div/div/a[text()='Confidential Patient Information']" , 60000)
    .pause(500)
    .getText("//*[@id='formsContent']/div[3]/div[2]/span" , function(result){
            browser
            if(result.value=="Completed"){
                   browser
                   .useXpath()
                     .getText("//*[@id='formsContent']/div[6]/div[2]/span/span" , function(result){
                       browser
                         .useXpath()
                          .pause(500)
                          .getLocationInView("//*[@id='formsContent']/div/div/a[text()='Health Insurance Information']")
                          .pause(1000)
                          .getLocationInView("//*[@id='formsContent']/div/div/a[text()='Confidential Patient Information']")
                          .pause(500)
                          .click("//*[@id='formsContent']/div/div/a[text()='Assignment, Attorney/Insurance Lien']")
                                      if(result.value=="Please Complete"){
                                          browser
                                          .useCss()
                                          .waitForElementVisible('#btnExportPatientForm' , 60000)
                                          .pause(500)
                                          .getLocationInView('button[class="btn btn-primary hidden-print requestRecHidden uncompletedVisible"][type="submit"]')
                                          .pause(500)
                                          .getLocationInView('#acceptstatement_id')
                                          .pause(500)
                                          .click('button[class="btn btn-primary hidden-print requestRecHidden uncompletedVisible"][type="submit"]')
                                          .pause(500)
                                          .verify.visible('#acceptstatement_id_error')
                                          
                                              
                                      }
                     })
                     browser
                     .pause(500)
                     .assignment()
                  

            }
        })
    browser
     .end()
    }  
  }  