var Data = require('../EHR_Json/data.json')

var symp=[];
var phone_Number;                             var phone_Number_1=[];
var painAtRest;                               var painAtRest_1=[];
var painInMotion;                             var painInMotion_1=[];
var nightlyPain;                              var nightlyPain_1=[];
var sleepingCausedByPain;                     var sleepingCausedByPain_1=[];
var incapabilityOfLyingOnPainfulSide;         var incapabilityOfLyingOnPainfulSide_1=[];
var degreeOfRadiation;                        var degreeOfRadiation_1=[];

module.exports={
    login : function (browser) {
        browser 
        .login(Data.user1[1].username, Data.user1[1].password)

},
'view files' : function (browser){
      browser
      .pause(1000)      
       .useCss()
       .click('a[class="firstLevel"]')
       .pause(500)
       .click('a[href="/EHR/Clinicadmin/view-patient-details-open"]')
       .waitForElementVisible('#col0_filter' , 60000)
       .useXpath()
       .pause(200)
       .click("//*[@id='patient']/tbody/tr/td[6]/a/i")
       .useCss()
       .waitForElementVisible('#patient_first_name' , 60000)
       .pause(500)
       
     },
'CPI check':function(browser){
  browser
    .useXpath()
    .click("//*[@id='formtab']/a")
    .waitForElementVisible("//*[@id='formsContent']/div/div/a[text()='Confidential Patient Information']" , 60000)
    .pause(500)
    .click("//*[@id='formsContent']/div/div/a[text()='Confidential Patient Information']")
    .useCss()
    .waitForElementVisible('#cpiDate' , 60000)
    .pause(500)
    .getLocationInView('#symptom_description5')
    .pause(500)
    .getLocationInView('#friendnumber')
    .pause(500)
    for(i=1; i<=12; i++){
      browser
        .getValue('#symptom_description'+i+'' , function(result){
              symp.push(result.value)
        })
    }
    

},
'check': function(browser){
  browser
    if([(symp.map(Number)).indexOf(3) > -1]=="false" ){
      browser
        .useXpath()
        .click("//*[@id='symptom_description1']/option[4]")
        .useCss()
        .waitForElementVisible('#symptomName' , 60000)
        .pause(500)
        .click('#R'+Math.floor((Math.random()*6)+1)+'')
        .moveToElement('#symptomPlaceHolder' , 103 , 90)
        .mouseButtonClick("Left")
        .pause(300)
        .click('button[class="btn btn-primary"][onclick="getAllIdWithinDiv()"][type="button"]')
     }
     browser
     .pause(500)
     .getLocationInView('button[value="Save Changes"]')
     .pause(500)
     .getLocationInView('#acceptstatement_id')
     .pause(500)
     .click('button[value="Save Changes"]')
     .useXpath()
     .waitForElementVisible("//*[@id='formsContent']/div/div/a[text()='Confidential Patient Information']" , 60000)
     .pause(500)
     .verify.visible("//*[@id='formsContent']/div/div/a[text()='Shoulder Pain Score']")

},
'shoulder pain':function(browser){
	phone_Number=Math.floor((Math.random()*3454354)+12132145)
	painAtRest=Math.floor((Math.random()*4)+1)
	painInMotion=Math.floor((Math.random()*4)+1)
	nightlyPain=Math.floor((Math.random()*4)+1)
	sleepingCausedByPain=Math.floor((Math.random()*4)+1)
	incapabilityOfLyingOnPainfulSide=Math.floor((Math.random()*4)+1)
	degreeOfRadiation=Math.floor((Math.random()*4)+1)
	browser
	.useXpath()
     .pause(2500)
.useCss()
     .getLocationInView('#backToTop')    
     .pause(2000)
     .useXpath()
     .getLocationInView("//*[@id='formsContent']/div/div/a[text()='Health Insurance Information']")    
     .pause(500)  
     .click("//*[@id='formsContent']/div/div/a[text()='Shoulder Pain Score']")  
     .useCss()
     .waitForElementVisible('#btnExportPatientForm' , 60000)
     .pause(500)
     .getLocationInView('#degreeOfRadiation_id')
     .pause(500)
     .getLocationInView('#btnExportPatientForm')
     .pause(500)
     .clearValue('#number_id')
     .setValue('#number_id' , phone_Number)
     .pause(500)
     .getLocationInView('#degreeOfRadiation_id')
     .pause(500)
     .getLocationInView('#number_id')
     .pause(500)
     .click('input[name="painAtRest"][value="'+painAtRest+'"]')
     .click('input[name="painInMotion"][value="'+painInMotion+'"]')
     .click('input[name="nightlyPain"][value="'+nightlyPain+'"]')
     .click('input[name="sleepingCausedByPain"][value="'+sleepingCausedByPain+'"]')
     .click('input[name="incapabilityOfLyingOnPainfulSide"][value="'+incapabilityOfLyingOnPainfulSide+'"]')
     .pause(500)
     .getLocationInView('#acceptstatement_id')
     .pause(500)
     .getLocationInView('#sleepingCausedByPain_id')
     .pause(500)
     .click('input[name="degreeOfRadiation"][value="'+degreeOfRadiation+'"]')
     .click('#acceptstatement_id')
     .click('button[class="btn btn-primary requestRecHidden uncompletedVisible"][type="submit"]')
     .useXpath()
     .waitForElementVisible("//*[@id='formsContent']/div/div/a[text()='Confidential Patient Information']" , 60000)
     .pause(2500)
.useCss()
     .getLocationInView('#backToTop')    
     .useXpath()    
     .pause(2500)
     .getLocationInView("//*[@id='formsContent']/div/div/a[text()='Health Insurance Information']")    
     .pause(2000)  
     .click("//*[@id='formsContent']/div/div/a[text()='Shoulder Pain Score']")  
     .useCss()
     .waitForElementVisible('#btnExportPatientForm' , 60000)
     .pause(500)
     .getLocationInView('#degreeOfRadiation_id')
     .pause(500)
     .getLocationInView('#btnExportPatientForm')
     .pause(500)
     .shoulderpain(phone_Number_1, painAtRest_1, painInMotion_1, nightlyPain_1, sleepingCausedByPain_1, incapabilityOfLyingOnPainfulSide_1, degreeOfRadiation_1,
                   phone_Number,painAtRest,painInMotion,nightlyPain,sleepingCausedByPain,incapabilityOfLyingOnPainfulSide,degreeOfRadiation)
     .pause(500)
     .end()
},
'Result':''+function(browser){
     console.log("phone_Number----------------------->"+[phone_Number==phone_Number_1])
     console.log("painAtRest------------------------->"+[painAtRest==painAtRest_1])
     console.log("painInMotion----------------------->"+[painInMotion==painInMotion_1])
     console.log("nightlyPain------------------------>"+[nightlyPain==nightlyPain_1])
     console.log("sleepingCausedByPain--------------->"+[sleepingCausedByPain==sleepingCausedByPain_1])
     console.log("incapabilityOfLyingOnPainfulSide--->"+[incapabilityOfLyingOnPainfulSide==incapabilityOfLyingOnPainfulSide_1])
     console.log("degreeOfRadiation------------------>"+[degreeOfRadiation==degreeOfRadiation_1])
}
}