var Data = require('../EHR_Json/data.json')

var attorney;           var attorney_1=[];  
var street;             var street_1=[];  
var city;               var city_1=[]; 
var Regards;            var Regards_1=[];

module.exports={
    login : function (browser) {
        browser 
        .login(Data.user1[1].username, Data.user1[1].password)

},
'view files' : function (browser){
      browser
       .pause(1000)      
       .useCss()
       .click('a[class="firstLevel"]')
       .pause(500)
       .click('a[href="/EHR/Clinicadmin/view-patient-details-open"]')
       .waitForElementVisible('#col0_filter' , 60000)
       .useXpath()
       .pause(200)
       .click("//*[@id='patient']/tbody/tr/td[6]/a/i")
       .useCss()
       .waitForElementVisible('#patient_first_name' , 60000)
       .pause(500)
},
'CPI':function(browser){
  browser 
    .useXpath()
    .click("//*[@id='formtab']/a")
    .waitForElementVisible("//*[@id='formsContent']/div/div/a[text()='Confidential Patient Information']" , 60000)
    .pause(500)
    .click("//*[@id='formsContent']/div/div/a[text()='Confidential Patient Information']")
    .useCss()
    .waitForElementVisible('#cpiDate' , 60000)
    
    .getAttribute('#areSymptomsDueToAccident_id' , 'checked' , function(result){
    	if(result.value!="true"){
    		browser
    		.pause(1000)
            .getLocationInView('#symptom_description11')
            .pause(1000)
    		.pause(1000)
    		  .click('#areSymptomsDueToAccident_id')
    		  .pause(500)
    		  .useXpath()
    		  .click("//*[@id='dateOfAccident_date']/span")
    		  .pause(2000)
    		  .click("html/body/div[45]/div/div[1]/table/tbody/tr[2]/td[3]")
    		  
    		  .pause(500)
    		  .useCss()
    		  .click('input[name="haveRetainedAttorney"][value="0"]')
    		  .pause(1000)
    		  .getLocationInView('#acceptstatement_id')
    		  .pause(500)
    		  .click('button[class="btn btn-primary requestRecHidden uncompletedVisible"][type="submit"]')
    		  .useXpath()
    		  .waitForElementVisible("//*[@id='formsContent']/div/div/a[text()='Confidential Patient Information']" , 60000)
    	}
    })
},
'admin':function(browser){
     browser
     .useCss()    
    .click('a[onclick="getAdminDefaultFormList();"]')
    .waitForElementVisible('button[onclick="getFormsList()"]' , 60000)
    .useXpath()
    .pause(1000)
    .getLocationInView("//*[@id='adminDefaultFormsContent']/div/div/a[text()='Request Update to Attorney for PI Patient']")
    .pause(1000)
    .getLocationInView("//*[@id='adminDefaultFormsContent']/div/div/a[text()='Hardship Agreement']")
    .pause(1000)
      .getText("//*[@id='adminDefaultFormsContent']/div[10]/div[2]/span/span" , function(result){

         browser
           .click("//*[@id='adminDefaultFormsContent']/div/div/a[text()='Request Update to Attorney for PI Patient']")
           .useCss()
           .waitForElementVisible('button[onclick="getAdminDefaultFormList()"]' , 60000)
           .pause(500)
                  if(result.value=="Please Complete"){
                  	 browser
                         .getLocationInView('#todaysDate_id')
                         .pause(500)
                         .useXpath()
                         .click("//*[@id='requestUpdateToAttorney']/div[3]/button[1]")
                         .pause(500)
                         .useCss()
                         .verify.visible('#toAttorney1id_error')
                         .verify.visible('#inRegardsToid_error')
                         .verify.visible('#acceptstatement_id_error')
                         .verify.visible('#requestupdatewholeForm_error')
               }
       })
a=['Madison' , 'Chloe' , 'Olivia' , 'Isabella' , 'Alexis']    
attorney=a[Math.floor(Math.random()*a.length)]  
b=['Fifth Avenue' , 'St. Joseph Street' , 'Peachtree Street' , 'Gulph Lane']
street=b[Math.floor(Math.random()*b.length)]  
c=['Houston' , 'Kansas City' , 'Charlotte' , 'Oklahoma City']
city=c[Math.floor(Math.random()*c.length)] 
d=['Ethan' , 'Elijah' , 'Alexander' , 'Gavin']
Regards=d[Math.floor(Math.random()*d.length)]

      browser
        .pause(500)
        .getLocationInView('#acceptstatement_id')
        .pause(500)
        .getLocationInView('#btnExportAdminForm')
        .pause(500)
        .clearValue('#toAttorney1id')
        .setValue('#toAttorney1id' , attorney)
        .clearValue('#toAttorney2id')
        .setValue('#toAttorney2id' , street)
        .clearValue('#toAttorney3id')
        .setValue('#toAttorney3id' , city)
        .clearValue('#inRegardsToid')
        .setValue('#inRegardsToid' , Regards)
        .useXpath()
        .getText("//*[@id='requestUpdateToAttorney']/div[1]/div[8]/p/span" , function(result){
        	browser
        	  .verify.containsText("//*[@id='adminDefaultFormsContent']/p/span[4]" , result.value)
        })
        .useCss()
        .pause(500)
        .getLocationInView('button[class="btn btn-primary requestRecHidden uncompletedVisible"][type="submit"]')
        .pause(500)
        .useXpath()
        .getLocationInView("//*[@id='requestUpdateToAttorney']/div[1]/div[8]/p/span")
        .pause(500)
        .useCss()
        .click('#acceptstatement_id')
        .pause(500)
        .click('button[class="btn btn-primary requestRecHidden uncompletedVisible"][type="submit"]')
        .waitForElementVisible('button[onclick="getFormsList()"]' , 60000)
        .useXpath()
        .pause(1000)
        .getLocationInView("//*[@id='adminDefaultFormsContent']/div/div/a[text()='Request Update to Attorney for PI Patient']")
        .pause(1000)
        .getLocationInView("//*[@id='adminDefaultFormsContent']/div/div/a[text()='Hardship Agreement']")
        .pause(1000)
        .verify.valueContains('#toAttorney1id' , attorney)
        .verify.valueContains('#toAttorney2id' , street)
        .verify.valueContains('#toAttorney3id' , city)
        .verify.valueContains('#inRegardsToid' , Regards)

        .getValue('#toAttorney1id' , function(result){
             attorney_1.push(result.value)
        })
        .getValue('#toAttorney2id' , function(result){
             street_1.push(result.value)
        })
        .getValue('#toAttorney3id' , function(result){
             city_1.push(result.value)  
        })
        .getValue('#inRegardsToid' , function(result){
             Regards_1.push(result.value)  
        })
        .pause(500)
            .verify.visible('input[id="acceptstatement_id"][checked="checked"]')
},
'result':''+function(browser){
	browser
	 console.log("attorney--->"+[attorney==attorney_1])
     console.log("street----->"+[street==street_1])
     console.log("city------->"+[city==city_1])
     console.log("Regards---->"+[Regards==Regards_1])   
}  
}
