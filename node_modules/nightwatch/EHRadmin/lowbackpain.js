var Data = require('../EHR_Json/data.json')

var symp=[];

var painIntensity;           var painIntensity_1=[];
var standing;                var standing_1=[];
var personalCare;            var personalCare_1=[];
var sleeping;                var sleeping_1=[];
var lifting;                 var lifting_1=[];
var socialLife;              var socialLife_1=[];
var walking;                 var walking_1=[];
var travelling;              var travelling_1=[];
var sitting;                 var sitting_1=[];
var changingDegreeOfPain;    var changingDegreeOfPain_1=[];
var command;                 var command_1=[];

module.exports={
    login : function (browser) {
        browser 
        .login(Data.user1[1].username, Data.user1[1].password)

},
'view files' : function (browser){
      browser
      .pause(1000)      
       .useCss()
       .click('a[class="firstLevel"]')
       .pause(500)
       .click('a[href="/EHR/Clinicadmin/view-patient-details-open"]')
       .waitForElementVisible('#col0_filter' , 60000)
       .useXpath()
       .pause(200)
       .click("//*[@id='patient']/tbody/tr/td[6]/a/i")
       .useCss()
       .waitForElementVisible('#patient_first_name' , 60000)
       .pause(500)
       
     },
'CPI check':function(browser){
  browser
    .useXpath()
    .click("//*[@id='formtab']/a")
    .waitForElementVisible("//*[@id='formsContent']/div/div/a[text()='Confidential Patient Information']" , 60000)
    .pause(500)
    .click("//*[@id='formsContent']/div/div/a[text()='Confidential Patient Information']")
    .useCss()
    .waitForElementVisible('#cpiDate' , 60000)
    .pause(500)
    .getLocationInView('#symptom_description5')
    .pause(500)
    .getLocationInView('#friendnumber')
    .pause(500)
    for(i=1; i<=12; i++){
      browser
        .getValue('#symptom_description'+i+'' , function(result){
              symp.push(result.value)
        })
    }
    

},
'check': function(browser){
  browser
    if([(symp.map(Number)).indexOf(8) > -1]=="false" ){
      browser
        .useXpath()
        .click("//*[@id='symptom_description1']/option[9]")
        .useCss()
        .waitForElementVisible('#symptomName' , 60000)
        .pause(500)
        .click('#R'+Math.floor((Math.random()*6)+1)+'')
        .moveToElement('#symptomPlaceHolder' , 103 , 90)
        .mouseButtonClick("Left")
        .pause(300)
        .click('button[class="btn btn-primary"][onclick="getAllIdWithinDiv()"][type="button"]')
     }
     browser
     .pause(500)
     .getLocationInView('button[value="Save Changes"]')
     .pause(500)
     .getLocationInView('#acceptstatement_id')
     .pause(500)
     .click('button[value="Save Changes"]')
     .useXpath()
     .waitForElementVisible("//*[@id='formsContent']/div/div/a[text()='Confidential Patient Information']" , 60000)
     .pause(500)
     .verify.visible("//*[@id='formsContent']/div/div/a[text()='Low Back Disability Questionnaire']")

},
'Low Back Disability Questionnaire':function(browser){

	painIntensity=Math.floor((Math.random()*6)+0)
	standing=Math.floor((Math.random()*6)+0)
	personalCare=Math.floor((Math.random()*6)+0)
	sleeping=Math.floor((Math.random()*6)+0)
	lifting=Math.floor((Math.random()*6)+0)
	socialLife=Math.floor((Math.random()*6)+0)
	walking=Math.floor((Math.random()*6)+0)
	travelling=Math.floor((Math.random()*6)+0)
	sitting=Math.floor((Math.random()*6)+0)
	changingDegreeOfPain=Math.floor((Math.random()*6)+0)
	var a=['good' , 'bad' , 'average']
	command=a[Math.floor(Math.random()*a.length)]

	browser
	 .pause(2500)
.useCss()
     .getLocationInView('#backToTop')    
     .pause(2000)
     .useXpath()   
     .getLocationInView("//*[@id='formsContent']/div/div/a[text()='Health Insurance Information']")    
     .pause(500)  
     .click("//*[@id='formsContent']/div/div/a[text()='Low Back Disability Questionnaire']")  
     .useCss()
     .waitForElementVisible('#btnExportPatientForm' , 60000)
     .pause(500)
     .getLocationInView('input[name="lifting"][value="5"]')
     .pause(500)
     .getLocationInView('#patientNameid')
     .pause(500)
     .click('input[name="painIntensity"][value="'+painIntensity+'"]')
     .click('input[name="standing"][value="'+standing+'"]')
     .click('input[name="personalCare"][value="'+personalCare+'"]')
     .click('input[name="sleeping"][value="'+sleeping+'"]')
     .pause(500)
     .getLocationInView('input[name="lifting"][value="5"]')
     .pause(500)
     .getLocationInView('input[name="personalCare"][value="4"]')
     .pause(500)
     .click('input[name="lifting"][value="'+lifting+'"]')
     .click('input[name="socialLife"][value="'+socialLife+'"]')
     .click('input[name="walking"][value="'+walking+'"]')
     .click('input[name="travelling"][value="'+travelling+'"]')
     .click('input[name="sitting"][value="'+sitting+'"]')
     .click('input[name="changingDegreeOfPain"][value="'+changingDegreeOfPain+'"]')
     .pause(500)
     .getLocationInView('#acceptstatement_id')
     .pause(500)
     .getLocationInView('input[name="sitting"][value="3"]')
     .pause(500)
     .clearValue('#commentsid')
     .setValue('#commentsid' , command)
     .click('#acceptstatement_id')
     .pause(300)
     .click('button[class="btn btn-primary requestRecHidden uncompletedVisible"][type="submit"]')
     .useXpath()
     .waitForElementVisible("//*[@id='formsContent']/div/div/a[text()='Confidential Patient Information']" , 60000)
     .pause(2500)
.useCss()
     .getLocationInView('#backToTop')    
     .useXpath()   
     .pause(2500)
     .getLocationInView("//*[@id='formsContent']/div/div/a[text()='Health Insurance Information']")    
     .pause(1000)  
     .click("//*[@id='formsContent']/div/div/a[text()='Low Back Disability Questionnaire']")  
     .useCss()
     .waitForElementVisible('#btnExportPatientForm' , 60000)
     .pause(500)
     .getLocationInView('input[name="lifting"][value="5"]')
     .pause(500)
     .getLocationInView('#patientNameid')
     .pause(500)
     .lowbackpain(painIntensity_1, standing_1, personalCare_1, sleeping_1, lifting_1, socialLife_1, walking_1, travelling_1, sitting_1, changingDegreeOfPain_1,
     	              command_1,painIntensity,standing,personalCare,sleeping,lifting,socialLife,walking,travelling,sitting,changingDegreeOfPain,command)
     .pause(500)
     .end()

},
'Result':''+function(browser){
	browser

console.log("painIntensity---------->"+[painIntensity==painIntensity_1])
console.log("standing--------------->"+[standing==standing_1])
console.log("personalCare----------->"+[personalCare==personalCare_1])
console.log("sleeping--------------->"+[sleeping==sleeping_1])
console.log("lifting---------------->"+[lifting==lifting_1])
console.log("socialLife------------->"+[socialLife==socialLife_1])
console.log("walking---------------->"+[walking==walking_1])
console.log("travelling------------->"+[travelling==travelling_1])
console.log("sitting---------------->"+[sitting==sitting_1])
console.log("changingDegreeOfPain--->"+[changingDegreeOfPain==changingDegreeOfPain_1])
console.log("command---------------->"+[JSON.stringify(command)==JSON.stringify(command_1.join())])

}
}