var Data = require('../EHR_Json/data.json')

var symp=[];
var howStiffWasHipAndKnee;              var howStiffWasHipAndKnee_1=[];
var howSwollenWasHipAndKnee;            var howSwollenWasHipAndKnee_1=[];
var flatSurfaceRightHip;                var flatSurfaceRightHip_1=[];
var flatSurfaceLeftHip;                 var flatSurfaceLeftHip_1=[];
var flatSurfaceRightKnee;               var flatSurfaceRightKnee_1=[];
var flatSurfaceLeftKnee;                var flatSurfaceLeftKnee_1=[];
var other=[];                           var other_1=[];
var upOrDownStairsRightHip;             var upOrDownStairsRightHip_1=[];
var upOrDownStairsLeftHip;              var upOrDownStairsLeftHip_1=[];
var upOrDownStairsRightKnee;            var upOrDownStairsRightKnee_1=[];
var upOrDownStairsLeftKnee;             var upOrDownStairsLeftKnee_1=[];
var lyingInBedRightHip;                 var lyingInBedRightHip_1=[];
var lyingInBedLeftHip;                  var lyingInBedLeftHip_1=[];
var lyingInBedRightKnee;                var lyingInBedRightKnee_1=[];
var lyingInBedLeftKnee;                var lyingInBedLeftKnee_1=[];
var abilityToGetAround;                 var abilityToGetAround_1=[];
var putonOrTakeoffStockings;            var putonOrTakeoffStockings_1=[];
var other1;
var other2;
var other3;
var other4;
var other5;
var other6;
var other7;
var other8;
var other9;
var other10;
var other11;
var other12;

module.exports={
    login : function (browser) {
        browser 
        .login(Data.user1[1].username, Data.user1[1].password)

},
'view files' : function (browser){
      browser
      .pause(1000)      
       .useCss()
       .click('a[class="firstLevel"]')
       .pause(500)
       .click('a[href="/EHR/Clinicadmin/view-patient-details-open"]')
       .waitForElementVisible('#col0_filter' , 60000)
       .useXpath()
       .pause(200)
       .click("//*[@id='patient']/tbody/tr/td[6]/a/i")
       .useCss()
       .waitForElementVisible('#patient_first_name' , 60000)
       .pause(500)
       
     },
'CPI check':function(browser){
  browser
    .useXpath()
    .click("//*[@id='formtab']/a")
    .waitForElementVisible("//*[@id='formsContent']/div/div/a[text()='Confidential Patient Information']" , 60000)
    .pause(500)
    .click("//*[@id='formsContent']/div/div/a[text()='Confidential Patient Information']")
    .useCss()
    .waitForElementVisible('#cpiDate' , 60000)
    .pause(500)
    .getLocationInView('#symptom_description5')
    .pause(500)
    .getLocationInView('#friendnumber')
    .pause(500)
    for(i=1; i<=12; i++){
      browser
        .getValue('#symptom_description'+i+'' , function(result){
              symp.push(result.value)
        })
    }
    

},
'check': function(browser){
  browser
    if([(symp.map(Number)).indexOf(11) > -1]=="false" ){
      browser
        .useXpath()
        .click("//*[@id='symptom_description1']/option[12]")
        .useCss()
        .waitForElementVisible('#symptomName' , 60000)
        .pause(500)
        .click('#R'+Math.floor((Math.random()*6)+1)+'')
        .moveToElement('#symptomPlaceHolder' , 103 , 90)
        .mouseButtonClick("Left")
        .pause(300)
        .click('button[class="btn btn-primary"][onclick="getAllIdWithinDiv()"][type="button"]')
     }
     browser
     .pause(500)
     .getLocationInView('button[value="Save Changes"]')
     .pause(500)
     .getLocationInView('#acceptstatement_id')
     .pause(500)
     .click('button[value="Save Changes"]')
     .useXpath()
     .waitForElementVisible("//*[@id='formsContent']/div/div/a[text()='Confidential Patient Information']" , 60000)
     .pause(500)
     .verify.visible("//*[@id='formsContent']/div/div/a[text()='Knee Questionnaire']")

},
'Knee Questionnaire':function(browser){

  howStiffWasHipAndKnee=Math.floor((Math.random()*5)+1)
  howSwollenWasHipAndKnee=Math.floor((Math.random()*5)+1)
  flatSurfaceRightHip=Math.floor((Math.random()*7)+1)
  flatSurfaceLeftHip=Math.floor((Math.random()*7)+1)
  flatSurfaceRightKnee=Math.floor((Math.random()*7)+1)
  flatSurfaceLeftKnee=Math.floor((Math.random()*7)+1)
  upOrDownStairsRightHip=Math.floor((Math.random()*7)+1)
  upOrDownStairsLeftHip=Math.floor((Math.random()*7)+1)
  upOrDownStairsRightKnee=Math.floor((Math.random()*7)+1)
  upOrDownStairsLeftKnee=Math.floor((Math.random()*7)+1)
  lyingInBedRightHip=Math.floor((Math.random()*7)+1)
  lyingInBedLeftHip=Math.floor((Math.random()*7)+1)
  lyingInBedRightKnee=Math.floor((Math.random()*7)+1)
  lyingInBedLeftKnee=Math.floor((Math.random()*7)+1)
  abilityToGetAround=Math.floor((Math.random()*7)+1)
  putonOrTakeoffStockings=Math.floor((Math.random()*6)+1)

  browser
   .pause(2500)
.useCss()
     .getLocationInView('#backToTop')    
     .pause(2000)
     .useXpath()   
     .getLocationInView("//*[@id='formsContent']/div/div/a[text()='Health Insurance Information']")    
     .pause(500)  
     .click("//*[@id='formsContent']/div/div/a[text()='Knee Questionnaire']")  
     .useCss()
     .waitForElementVisible('#btnExportPatientForm' , 60000)
     .pause(500)
     .getLocationInView('#upOrDownStairsLeftKneeNotPainFull_id')
     .pause(500)
     .getLocationInView('#hakDate_id')
     .pause(500)

     .click('input[name="howStiffWasHipAndKnee"][value="'+howStiffWasHipAndKnee+'"]')
     .click('input[name="howSwollenWasHipAndKnee"][value="'+howSwollenWasHipAndKnee+'"]')
     .click('input[name="flatSurfaceRightHip"][value="'+flatSurfaceRightHip+'"]')
              if (flatSurfaceRightHip==7) {
                var a1=['Right Hip' , 'Left Hip' , 'Right Knee' , 'Left Knee']
                other1=a1[Math.floor(Math.random()*a1.length)]
                 other.push(other1)
                browser
                  .clearValue('#flatSurfaceRightHipOther_id')
                  .setValue('#flatSurfaceRightHipOther_id' , other1)
              }
              browser
     .click('input[name="flatSurfaceLeftHip"][value="'+flatSurfaceLeftHip+'"]')
              if (flatSurfaceLeftHip==7) {
                var a2=['Right Hip' , 'Left Hip' , 'Right Knee' , 'Left Knee']
                other2=a2[Math.floor(Math.random()*a2.length)]
                 other.push(other2)
                browser
                  .clearValue('#flatSurfaceLeftHipOther_id')
                  .setValue('#flatSurfaceLeftHipOther_id' , other2)
              }
              browser
     .click('input[name="flatSurfaceRightKnee"][value="'+flatSurfaceRightKnee+'"]')
              if (flatSurfaceRightKnee==7) {
                var a3=['Right Hip' , 'Left Hip' , 'Right Knee' , 'Left Knee']
                other3=a3[Math.floor(Math.random()*a3.length)]
                 other.push(other3)
                browser
                  .clearValue('#flatSurfaceRightKneeOther_id')
                  .setValue('#flatSurfaceRightKneeOther_id' , other3)
              }
              browser
     .click('input[name="flatSurfaceLeftKnee"][value="'+flatSurfaceLeftKnee+'"]')
              if (flatSurfaceLeftKnee==7) {
                var a4=['Right Hip' , 'Left Hip' , 'Right Knee' , 'Left Knee']
                other4=a4[Math.floor(Math.random()*a4.length)]
                 other.push(other4)
                browser
                  .clearValue('#flatSurfaceLeftKneeOther_id')
                  .setValue('#flatSurfaceLeftKneeOther_id', other4)
              }
              browser
              .pause(500)
              .getLocationInView('#lyingInBedLeftKneeNotPainFull_id')
              .pause(500)
              .getLocationInView('#flatSurfaceLeftKneeNotPainFull_id')
              .pause(500)
     .click('input[name="upOrDownStairsRightHip"][value="'+upOrDownStairsRightHip+'"]')
          if (upOrDownStairsRightHip==7) {
            var a5=['Right Hip' , 'Left Hip' , 'Right Knee' , 'Left Knee']
                other5=a5[Math.floor(Math.random()*a5.length)]
                other.push(other5)
             browser
                .clearValue('#upOrDownStairsRightHipOther_id')
                .setValue('#upOrDownStairsRightHipOther_id' , other5)
          }
          browser
     .click('input[name="upOrDownStairsLeftHip"][value="'+upOrDownStairsLeftHip+'"]')
          if (upOrDownStairsLeftHip==7) {
            var a6=['Right Hip' , 'Left Hip' , 'Right Knee' , 'Left Knee']
                other6=a6[Math.floor(Math.random()*a6.length)]
                other.push(other6)
             browser
                .clearValue('#upOrDownStairsLeftHipOther_id')
                .setValue('#upOrDownStairsLeftHipOther_id' , other6)
          }
          browser
     .click('input[name="upOrDownStairsRightKnee"][value="'+upOrDownStairsRightKnee+'"]')
          if (upOrDownStairsRightKnee==7) {
            var a7=['Right Hip' , 'Left Hip' , 'Right Knee' , 'Left Knee']
                other7=a7[Math.floor(Math.random()*a7.length)]
                other.push(other7)
             browser
                .clearValue('#upOrDownStairsRightKneeOther_id')
                .setValue('#upOrDownStairsRightKneeOther_id' , other7)
          }
          browser
     .click('input[name="upOrDownStairsLeftKnee"][value="'+upOrDownStairsLeftKnee+'"]')
          if (upOrDownStairsLeftKnee==7) {
            var a8=['Right Hip' , 'Left Hip' , 'Right Knee' , 'Left Knee']
                other8=a8[Math.floor(Math.random()*a8.length)]
                other.push(other8)
             browser
                .clearValue('#upOrDownStairsLeftKneeOther_id')
                .setValue('#upOrDownStairsLeftKneeOther_id' , other8)
          }
          browser
          .pause(500)
          .getLocationInView('#abilityToGetAroundSomeoneSupport_id')
          .pause(500)
          .getLocationInView('#upOrDownStairsLeftKneeNotPainFull_id')
          .pause(500)
          .click('input[name="lyingInBedRightHip"][value="'+lyingInBedRightHip+'"]')
              if (lyingInBedRightHip==7) {
                var a9=['Right Hip' , 'Left Hip' , 'Right Knee' , 'Left Knee']
                other9=a9[Math.floor(Math.random()*a9.length)]
                other.push(other9)
                   browser
                     .clearValue('#lyingInBedRightHipOther_id')
                     .setValue('#lyingInBedRightHipOther_id' , other9)
              }
              browser
          .click('input[name="lyingInBedLeftHip"][value="'+lyingInBedLeftHip+'"]')
              if (lyingInBedLeftHip==7) {
                var a10=['Right Hip' , 'Left Hip' , 'Right Knee' , 'Left Knee']
                other10=a10[Math.floor(Math.random()*a10.length)]
                other.push(other10)
                   browser
                     .clearValue('#lyingInBedLeftHipOther_id')
                     .setValue('#lyingInBedLeftHipOther_id' , other10)
              }
              browser
          .click('input[name="lyingInBedRightKnee"][value="'+lyingInBedRightKnee+'"]')
              if (lyingInBedRightKnee==7) {
                var a11=['Right Hip' , 'Left Hip' , 'Right Knee' , 'Left Knee']
                other11=a11[Math.floor(Math.random()*a11.length)]
                other.push(other11)
                   browser
                     .clearValue('#lyingInBedRightKneeOther_id')
                     .setValue('#lyingInBedRightKneeOther_id' , other11)
              }
              browser
          .click('input[name="lyingInBedLeftKnee"][value="'+lyingInBedLeftKnee+'"]')
              if (lyingInBedLeftKnee==7) {
                var a12=['Right Hip' , 'Left Hip' , 'Right Knee' , 'Left Knee']
                other12=a12[Math.floor(Math.random()*a12.length)]
                other.push(other12)
                   browser
                     .clearValue('#lyingInBedLeftKneeOther_id')
                     .setValue('#lyingInBedLeftKneeOther_id' , other12)
              }
              browser
              .pause(500)
              .getLocationInView('#acceptstatement_id')
              .pause(500)
              .getLocationInView('#lyingInBedRightKneeNotPainFull_id')
              .pause(500)
              .click('input[name="abilityToGetAround"][value="'+abilityToGetAround+'"]')
              .click('input[name="putonOrTakeoffStockings"][value="'+putonOrTakeoffStockings+'"]')
              .click('#acceptstatement_id')
              .pause(300)
              .click('button[class="btn btn-primary hidden-print requestRecHidden uncompletedVisible"][type="submit"]')
              .useXpath()
              .waitForElementVisible("//*[@id='formsContent']/div/div/a[text()='Confidential Patient Information']" , 60000)
              .pause(2500)
.useCss()
     .getLocationInView('#backToTop')    
     .useXpath()   
              .pause(2500)
              .getLocationInView("//*[@id='formsContent']/div/div/a[text()='Health Insurance Information']")    
              .pause(1000)  
              .click("//*[@id='formsContent']/div/div/a[text()='Knee Questionnaire']")  
              .useCss()
              .waitForElementVisible('#btnExportPatientForm' , 60000)
              .pause(500)
              .getLocationInView('#upOrDownStairsLeftKneeNotPainFull_id')
              .pause(500)
              .getLocationInView('#hakDate_id')
              .pause(500)
              .hippain(howStiffWasHipAndKnee_1, howSwollenWasHipAndKnee_1, flatSurfaceRightHip_1, other_1, flatSurfaceLeftHip_1, flatSurfaceRightKnee_1, 
                        flatSurfaceLeftKnee_1, upOrDownStairsRightHip_1, upOrDownStairsLeftHip_1, upOrDownStairsRightKnee_1, upOrDownStairsLeftKnee_1,
                        lyingInBedRightHip_1, lyingInBedLeftHip_1, lyingInBedRightKnee_1, lyingInBedLeftKnee_1, abilityToGetAround_1, putonOrTakeoffStockings_1,
                        howStiffWasHipAndKnee,howSwollenWasHipAndKnee,flatSurfaceRightHip,flatSurfaceLeftHip,flatSurfaceRightKnee,flatSurfaceLeftKnee,
                        upOrDownStairsRightHip,upOrDownStairsLeftHip,upOrDownStairsRightKnee,upOrDownStairsLeftKnee,lyingInBedRightHip,lyingInBedLeftHip,
                        lyingInBedRightKnee,lyingInBedLeftKnee,abilityToGetAround,putonOrTakeoffStockings,other1,other2,other3,other4,other5,other6,other7,other8,
                        other9,other10,other11,other12)
              .pause(500)
              .end()
},
'Result':''+function(browser){
console.log("howStiffWasHipAndKnee----->"+[howStiffWasHipAndKnee==howStiffWasHipAndKnee_1])
console.log("howSwollenWasHipAndKnee--->"+[howSwollenWasHipAndKnee==howSwollenWasHipAndKnee_1])
console.log("flatSurfaceRightHip------->"+[flatSurfaceRightHip==flatSurfaceRightHip_1])
console.log("flatSurfaceLeftHip-------->"+[flatSurfaceLeftHip==flatSurfaceLeftHip_1])
console.log("flatSurfaceRightKnee------>"+[flatSurfaceRightKnee==flatSurfaceRightKnee_1])
console.log("flatSurfaceLeftKnee------->"+[flatSurfaceLeftKnee==flatSurfaceLeftKnee_1])
console.log("other--------------------->"+[JSON.stringify(other.join())==JSON.stringify(other_1.join())])
console.log("upOrDownStairsRightHip---->"+[upOrDownStairsRightHip==upOrDownStairsRightHip_1])
console.log("upOrDownStairsLeftHip----->"+[upOrDownStairsLeftHip==upOrDownStairsLeftHip_1])
console.log("upOrDownStairsRightKnee--->"+[upOrDownStairsRightKnee==upOrDownStairsRightKnee_1])
console.log("upOrDownStairsLeftKnee---->"+[upOrDownStairsLeftKnee==upOrDownStairsLeftKnee_1])
console.log("lyingInBedRightHip-------->"+[lyingInBedRightHip==lyingInBedRightHip_1])
console.log("lyingInBedLeftHip--------->"+[lyingInBedLeftHip==lyingInBedLeftHip_1])
console.log("lyingInBedRightKnee------->"+[lyingInBedRightKnee==lyingInBedRightKnee_1])
console.log("lyingInBedLeftKnee-------->"+[lyingInBedLeftKnee==lyingInBedLeftKnee_1])
console.log("abilityToGetAround-------->"+[abilityToGetAround==abilityToGetAround_1])
console.log("putonOrTakeoffStockings--->"+[putonOrTakeoffStockings==putonOrTakeoffStockings_1])

}
}