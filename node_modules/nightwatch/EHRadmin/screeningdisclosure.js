var Data = require('../EHR_Json/data.json')
module.exports={
    login : function (browser) {
        browser 
        .login(Data.user1[1].username, Data.user1[1].password)

},
'view files' : function (browser){
      browser
      .pause(1000)      
       .useCss()
       .click('a[class="firstLevel"]')
       .pause(500)
       .click('a[href="/EHR/Clinicadmin/view-patient-details-open"]')
       .waitForElementVisible('#col0_filter' , 60000)
       .useXpath()
       .pause(200)
       .click("//*[@id='patient']/tbody/tr/td[6]/a/i")
       .useCss()
       .waitForElementVisible('#patient_first_name' , 60000)
       .pause(500)
     },
'Screening Disclosure':function(browser){
  browser
    .useXpath()
    .click("//*[@id='formtab']/a")
    .waitForElementVisible("//*[@id='formsContent']/div/div/a[text()='Confidential Patient Information']" , 60000)
    .pause(500)
    .click("//*[@id='formsContent']/div/div/a[text()='Confidential Patient Information']")
    .useCss()
    .waitForElementVisible('#cpiDate' , 60000)
    .pause(500)
    .getLocationInView('#acceptstatement_id')
    .pause(1000)
    .getLocationInView('#symptom_description10')
    .pause(1000)
    .getAttribute('#areSymptomsDueToAccident_id' , 'checked' , function(result){
    	if(result.value!="true"){
    		browser
    		.useCss()
    		.click('input[name="areSymptomsDueToAccident"][value="1"]')
    		.pause(300)
    		.click('input[name="typeOfAccidentAuto"][value="1"]')
    		.pause(300)
    		.click('input[name="haveRetainedAttorney"][value="0"]')
    		.pause(500)

    	}
    	if(result.value=="true"){
    		      browser
    		      .getAttribute('#auto' , 'checked' , function(result){
    		      	     if(result.value!="true"){
    		      	     	browser
    		      	     	.useCss()
    		      	     	.pause(500)
    		      	     	.getLocationInView('#medicalHistory_17')
    		      	     	.pause(500)
    		      	     	.getLocationInView('#symptom_description10')
    		      	     	.pause(500)
    		      	     	.click('[name="typeOfAccidentAuto"][value="1"]')
    		                .pause(300)
    		      	     }
    		      })
    	}
    	browser
    	.useCss()
        .pause(1000)
        .getLocationInView('button[class="btn btn-primary requestRecHidden uncompletedVisible"][type="submit"]')
        .pause(1000)
        .getLocationInView('#acceptstatement_id')
        .pause(1000)
    	.click('button[class="btn btn-primary requestRecHidden uncompletedVisible"][type="submit"]')
    })
    browser
    .useXpath()
    .waitForElementVisible("//*[@id='formsContent']/div/div/a[text()='Confidential Patient Information']" , 60000)
    .pause(500)
    .verify.elementPresent("//*[@id='formsContent']/div/div/a[text()='Auto Accident Questionnaire']")
    .verify.elementPresent("//*[@id='formsContent']/div/div/a[text()='Screening Disclosure']")
    .pause(1000)
    .useCss()
    .getLocationInView('#backToTop')
    .useXpath()
    .pause(2500)
    .getLocationInView("//*[@id='formsContent']/div/div/a[text()='Confidential Patient Information']")
    .pause(2500)
    .getText("//*[@id='formsContent']/div[8]/div[2]/span/span" , function(result){
    	browser
    	.pause(1000)
    	.useXpath()
    	 .click("//*[@id='formsContent']/div/div/a[text()='Screening Disclosure']")
    	 .useCss()
    	 .waitForElementVisible('#btnExportPatientForm' , 60000)
    	 .pause(500)
    	if (result.value=="Please Complete") {
            browser
             .useCss()
             .pause(500)
             .getLocationInView('button[class="btn btn-primary requestRecHidden uncompletedVisible"][type="submit"]')
             .pause(500)
             .getLocationInView('#sd_patient_name_id')
             .pause(500)
             .click('button[class="btn btn-primary requestRecHidden uncompletedVisible"][type="submit"]')
             .pause(200)
             .verify.visible('#acceptstatement_id_error')
    	}
    	browser
    	.pause(500)
    	.getLocationInView('button[class="btn btn-primary requestRecHidden uncompletedVisible"][type="submit"]')
    	.pause(500)
    	.getLocationInView('#sd_patient_name_id')
    	.pause(500)
    	.click('#acceptstatement_id')
    	.pause(500)
    	.click('button[class="btn btn-primary requestRecHidden uncompletedVisible"][type="submit"]')
    	.useXpath()
    	.waitForElementVisible("//*[@id='formsContent']/div/div/a[text()='Screening Disclosure']" , 60000)
        .pause(2500)
        .useCss()
         .getLocationInView('#backToTop')
         .useXpath()
        .pause(3000)
        .getLocationInView("//*[@id='formsContent']/div/div/a[text()='Consent to Treat Release of Records']")
        .pause(1500)
        .click("//*[@id='formsContent']/div/div/a[text()='Screening Disclosure']")
    	 .useCss()
    	 .waitForElementVisible('#btnExportPatientForm' , 60000)
    	 .pause(500)
    	 .verify.visible('input[id="acceptstatement_id"][checked="checked"]')

    })
   browser
    .end()
    }
}