var Data = require('../EHR_Json/data.json')

var attorney;
var address;          var address_1=[];

module.exports={
    login : function (browser) {
        browser 
        .login(Data.user1[1].username, Data.user1[1].password)

},
'view files' : function (browser){
      browser
       .pause(1000)      
       .useCss()
       .click('a[class="firstLevel"]')
       .pause(500)
       .click('a[href="/EHR/Clinicadmin/view-patient-details-open"]')
       .waitForElementVisible('#col0_filter' , 60000)
       .useXpath()
       .pause(200)
       .click("//*[@id='patient']/tbody/tr/td[6]/a/i")
       .useCss()
       .waitForElementVisible('#patient_first_name' , 60000)
       .pause(500)
},
'CPI':function(browser){
  browser 
    .useXpath()
    .click("//*[@id='formtab']/a")
    .waitForElementVisible("//*[@id='formsContent']/div/div/a[text()='Confidential Patient Information']" , 60000)
    .pause(500)
    .click("//*[@id='formsContent']/div/div/a[text()='Confidential Patient Information']")
    .useCss()
    .waitForElementVisible('#cpiDate' , 60000)
    .getAttribute('#areSymptomsDueToAccident_id' , 'checked' , function(result){
    	if(result.value!="true"){
    		browser
    		    .useCss()
    		    .pause(500)
    		    .getLocationInView('#symptom_description11')
    		    .pause(500)
    		    .click('#areSymptomsDueToAccident_id')
    		    .pause(500)
    	}
    	browser
    	  .getAttribute('#haveRetainedAttorney_id' , 'checked' , function(result){
    	  	    if (result.value!="true") {
    	  	    	a=['Madison' , 'Chloe' , 'Olivia' , 'Isabella' , 'Alexis']    
                      attorney=a[Math.floor(Math.random()*a.length)] 
    	  	    	browser
    	  	    	  .useCss()
    	  	    	  .pause(500)
    	  	    	  .getLocationInView('#healthInsuranceName_id')
    	  	    	  .pause(500)
    	  	    	  .getLocationInView('#auto')
    	  	    	  .pause(500)
    	  	    	  .click('#haveRetainedAttorney_id')
    	  	    	  .pause(500)
    	  	    	  .clearValue('#attorneyName_id')
    	  	    	  .setValue('#attorneyName_id' , attorney)
    	  	    	  .pause(500)
    	  	    	  .getLocationInView('button[class="btn btn-primary requestRecHidden uncompletedVisible"]')
    	  	    	  .pause(500)
    	  	    	  .getLocationInView('#acceptstatement_id')
    	  	    	  .pause(500)
    	  	    	  .click('button[class="btn btn-primary requestRecHidden uncompletedVisible"]')
    	  	    	  .useXpath()
                      .waitForElementVisible("//*[@id='formsContent']/div/div/a[text()='Confidential Patient Information']" , 60000)
                      .pause(500)
    	  	    }else{
    	  	    	browser
    	  	    	    .useCss()
    	  	    	    .pause(500)
    	  	    	    .getValue('#attorneyName_id' , function(result){
    	  	    	    	attorney=result.value
    	  	    	    })
    	  	    	    .pause(500)
    	  	    }
    	  })
    })
},
'Admin Form':function(browser){
	c=['Houston' , 'Kansas City' , 'Charlotte' , 'Oklahoma City']
    address=c[Math.floor(Math.random()*c.length)] 

	browser
	  .useCss()
	  .click('a[onclick="getAdminDefaultFormList();"]')
	  .waitForElementVisible('button[onclick="getFormsList()"]' , 60000)
	  .pause(500)
	  .useXpath()
	  .getLocationInView("//*[@id='adminDefaultFormsContent']/div/div/a[text()='Attorney/Adjuster Requesting Fee Reduction']")
	  .pause(500)
	  .getLocationInView("//*[@id='adminDefaultFormsContent']/div/div/a[text()='Letter to Patient for Collection of Payment']")
	  .pause(500)
	  .click("//*[@id='adminDefaultFormsContent']/div/div/a[text()='Attorney/Adjuster Requesting Fee Reduction']")
	  .useCss()
	  .waitForElementVisible('#patientsAttorneyid' , 60000)
	  .pause(500)
	  .verify.valueContains('#patientsAttorneyid' , attorney)
	  .pause(500)
	  .getLocationInView('#attornyRequestingFeeDate_id')
	  .pause(500)
	  .getLocationInView('button[onclick="getAdminDefaultFormList()"]')
	  .pause(500)
	  .clearValue('#patientsAttorneyAddressid')
	  .setValue('#patientsAttorneyAddressid' , address)
	  .pause(500)
	  .getLocationInView('button[class="btn btn-primary requestRecHidden uncompletedVisible"][type="submit"]')
	  .pause(500)
	  .getLocationInView('#attornyRequestingFeeDate_id')
	  .pause(500)
	  .click('#acceptstatement_id')
	  .pause(500)
	  .click('button[class="btn btn-primary requestRecHidden uncompletedVisible"][type="submit"]')
	  .waitForElementVisible('button[onclick="getFormsList()"]' , 60000)
	  .pause(500)
	  .useXpath()
	  .getLocationInView("//*[@id='adminDefaultFormsContent']/div/div/a[text()='Attorney/Adjuster Requesting Fee Reduction']")
	  .pause(500)
	  .getLocationInView("//*[@id='adminDefaultFormsContent']/div/div/a[text()='Letter to Patient for Collection of Payment']")
	  .pause(500)
	  .click("//*[@id='adminDefaultFormsContent']/div/div/a[text()='Attorney/Adjuster Requesting Fee Reduction']")
	  .useCss()
	  .waitForElementVisible('#patientsAttorneyid' , 60000)
	  .pause(500)
	  .getText('#patientsAttorneyAddressid' , function(result){
              address_1.push(result.value)
	  })
},
'Result':function(browser){
	browser
	  console.log("address--->"[address==address_1])
}    
}