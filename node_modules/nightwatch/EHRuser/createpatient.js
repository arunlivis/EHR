var Data = require('../EHR_Json/data.json')

var firstname;             var firstname_1;
var lastname;             var lastname_1;

module.exports={
    login : function (browser) {
        browser 
        .login(Data.user1[1].username, Data.user1[1].password)

},
'open patient files' : function (browser){
      browser
      .pause(1000)      
       .useCss()
       .click('a[class="firstLevel"]')
       .pause(500)
       .click('a[href="/EHR/Clinicadmin/view-patient-details-open"]')
       .waitForElementVisible('#col0_filter' , 60000)
       
},
'Create new patient': function(browser){
    var a=['Smith' , 'Anderson' , 'Clark' , 'Lopez' , 'Robert' , 'Phillips' , 'Parker' , 'Mark' , 'Kenneth' , 'Adams' , 'Lawrence' , 'Calwin' , 'Alexander']
    var b=['Hernandez' , 'Hall' , 'Lee' , 'Garcia' , 'Moore' , 'Miller' , 'Brown' , 'Morgan' , 'Larson' , 'Byrd' , 'David' , 'Titus' , 'Robin']
    firstname=a[Math.floor(Math.random()*a.length)]
    lastname=b[Math.floor(Math.random()*b.length)]
    c=Math.floor((Math.random()*225)+2)
    
    

    browser
    .pause(600)
    .useCss()
    .click('a[class="btn btn-changecolor tooltipsclass"][onclick="getPatientProfile()"]')
    .waitForElementVisible('#firstName' , 60000)
    .pause(500)
    .click('button[onclick="return createPatientProfileValidation();"]')
    .pause(500)
    .verify.visible('#firstNameError')
    .verify.visible('#lastNameError')
    .pause(500)
    .setValue('#firstName' , 'ab')
    

    .setValue('#lastName' , 'ab')
    .pause(500)
    .click('button[onclick="return createPatientProfileValidation();"]')
    .pause(500)
    .verify.containsText('#firstNameError' , 'Should be of length 3')
    .verify.containsText('#lastNameError' , 'Should be of length 3')
    .pause(500)
    .clearValue('#firstName')
    .setValue('#firstName' , firstname)
    .pause(500)
    .click('button[onclick="return createPatientProfileValidation();"]')
    .pause(500)
    .verify.hidden("#firstNameError")
    .verify.visible('#lastNameError')
    .pause(200)
    .clearValue('#lastName')
    .setValue('#lastName' , lastname)
     .click('button[onclick="return createPatientProfileValidation();"]')
},
'check' : function(browser){
browser
     .useCss()     
     .pause(800)
     .waitForElementVisible('#patient_first_name' , 60000)
     .pause(500)
     .verify.valueContains('#patient_first_name' , firstname)
     .verify.valueContains('#patient_last_name' , lastname)
     .getValue('#patient_first_name' , function(result){
          firstname_1=result.value
     })
     .getValue('#patient_last_name' , function(result){
          lastname_1=result.value
     })
     .pause(500)
     .clearValue('#patient_first_name')
     .clearValue('#patient_last_name')
     .pause(300)
     .useXpath()
     .click("//*[@id='country']/option[1]")
     .useCss()
     .pause(500)
     .getLocationInView('button[class="btn btn-primary"][type="submit"]')
     .pause(500)
     .getLocationInView('#state')
     .pause(500)
     .click('button[class="btn btn-primary"][type="submit"]')
     .pause(500)
     .verify.visible('#patient_first_name_error')
     .verify.visible('#patient_last_name_error')
     .verify.visible('#date_of_birth_error')
     .verify.visible('#contact_no_error')
     .verify.visible('#address_error')
     .verify.visible('#country_error')
     .verify.visible('#state_error')
     .verify.visible('#city_error')
     .verify.visible('#zipcode_error')
     .verify.visible('#patientprofilewholeForm_error')
     .pause(500)
     .end()

}
}    