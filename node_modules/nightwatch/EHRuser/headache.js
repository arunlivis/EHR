var Data = require('../EHR_Json/data.json')

var age;              var age_1=[];
var headaches;                     var headaches_1=[];
var Headache;                      var Headache_1=[];
var feelHandicapped;               var feelHandicapped_1=[];
var feelRestricted;                var feelRestricted_1=[];
var noOneUnderstands;              var noOneUnderstands_1=[];
var IRestrictMyRecreational;       var IRestrictMyRecreational_1=[];
var meAngry;                       var meAngry_1=[];
var feelLoseControl;               var feelLoseControl_1=[];
var lessLikelyToSocialize;         var lessLikelyToSocialize_1=[];
var spouseSignificantOther;        var spouseSignificantOther_1=[];
var feelToGoInsane;                var feelToGoInsane_1=[];
var outlookOnTheWorld;             var outlookOnTheWorld_1=[];
var afraidToGoOutside;             var afraidToGoOutside_1=[];
var feelDesperate;                 var feelDesperate_1=[];
var payingPenalities;              var payingPenalities_1=[];
var stressOnMyRelationship;        var stressOnMyRelationship_1=[];
var avoidBeingAround;              var avoidBeingAround_1=[];
var achieveMyGoals;                var achieveMyGoals_1=[];
var unableToThink;                 var unableToThink_1=[];
var getTense;                      var getTense_1=[];
var donotEnjoySocialGatherings;    var donotEnjoySocialGatherings_1=[];
var feelIrritable;                 var feelIrritable_1=[];
var avoidTraveling;                var avoidTraveling_1=[];
var fellConfused;                  var fellConfused_1=[];
var feelFrustrated;                var feelFrustrated_1=[];
var difficultToRead;               var difficultToRead_1=[];
var diffcultToFocus;               var diffcultToFocus_1=[];

var symp=[];

var id;
var user_name;

module.exports={
    login : function (browser) {
        browser 
        .login(Data.user1[1].username, Data.user1[1].password)

},
'Get User Name':function(browser){
	browser
	 .useCss()
	 .pause(500)
	 .click('a[class="firstLevel"]')
	 .pause(300)
	 .click('a[href="/EHR/Clinicadmin/view-patient-details-open"]')
	 .waitForElementVisible('a[onclick="getPatientProfile()"]' , 60000)
	 .pause(500)
	 .getText('td[class="sorting_1"]' , function(result){
	 	id=result.value
	 	browser
	 	  .click('a[onclick="postNavigateToProfile('+result.value+',1);"]')
	 })
	 browser
	   .waitForElementVisible('#patient_first_name' , 60000)
	   .pause(500)
	   .getValue('#date_of_birth' , function(result){
            var birthdate = new Date(result.value);
            var cur = new Date();
            var diff = cur-birthdate; // This is the difference in milliseconds
            age = Math.floor(diff/31536000000); // Divide by 1000*60*60*24*365
       })
	   .getText('#usernameId' , function(result){
	   	   user_name=result.value.substr(11)
	   })
	   .pause(500)
	   .click('a[onclick="getDefaultFormList();"]')
	   .waitForElementVisible('button[onclick="lockConfirmation()"]' , 60000)
	   .pause(500)
	   .useXpath()
	   .click("//*[@id='formsContent']/div/div/a[text()='Confidential Patient Information']")
	       .useCss()
       .waitForElementVisible('#cpiDate' , 60000)
       .pause(500)
       for(i=1; i<=12; i++){
         browser
           .getValue('#symptom_description'+i+'' , function(result){
                 symp.push(result.value)
           })
       }
},
'check':function(browser){
	browser
	   if([(symp.map(Number)).indexOf(1) > -1]=="false" ){
      browser
        .useCss()
        .pause(500)
        .getLocationInView('#symptom_description5')
        .pause(500)
        .getLocationInView('#friendnumber')
        .pause(500)
        .useXpath()
        .click("//*[@id='symptom_description1']/option[2]")
        .useCss()
        .waitForElementVisible('#symptomName' , 60000)
        .pause(500)
        .click('#R'+Math.floor((Math.random()*6)+1)+'')
        .moveToElement('#symptomPlaceHolder' , 103 , 90)
        .mouseButtonClick("Left")
        .pause(300)
        .click('button[class="btn btn-primary"][onclick="getAllIdWithinDiv()"][type="button"]')
        .pause(500)
        .getLocationInView('button[value="Save Changes"]')
        .pause(500)
        .getLocationInView('#acceptstatement_id')
        .pause(500)
        .click('button[value="Save Changes"]')
        .useXpath()
        .waitForElementVisible("//*[@id='formsContent']/div/div/a[text()='Confidential Patient Information']" , 60000)
        .pause(500)
     }
     	browser
     	  .useCss()
     	  .pause(500)
          .click('a[href="/EHR/EHR/j_spring_security_logout"]')
          .waitForElementVisible('#username_id' , 60000)
          .pause(500)
     
},
'patient login':function(browser){
	browser
	   .useCss()
	   .pause(500)
	   .setValue('#username_id' , user_name)
	   .setValue('#password_id' , user_name)
	   .pause(300)
	   .click('button[class="btn btn-primary"][type="submit"]')
	   .waitForElementVisible('a[class="firstLevel"][href="/EHR/Patient/patient-dashboard"]' , 60000)
	   .pause(500)
	       .isVisible('#myModal' , function(result){
	  	      if(result.value==true){
	  	   	     browser
	  	   	      .setValue('#password' , user_name)
	  	   	      .setValue('#confirmpassword' , user_name)
	  	   	      .pause(500)
	  	   	      .click('button[onclick="return savepassword()"]')
	  	   	      .waitForElementNotVisible('#myModal' , 60000)
	  	   	      .pause(500)
	  	      }
	       })

},
'Profile':function(browser){
	browser
	  .useCss()
	  .pause(500)
	  .waitForElementVisible('a[href="/EHR/Patient-Details/profile"]' , 60000)
	  .click('a[href="/EHR/Patient-Details/profile"]')
	  .waitForElementVisible('#patient_first_name' , 60000)
	  .pause(500)
},
'Headache Disability Questionnaire':function(browser){
    browser
	   .click('a[onclick="getDefaultFormList();"]')
	   .useXpath()
	   .waitForElementVisible("//*[@id='formsContent']/div/div/a[text()='Headache Disability Questionnaire']" , 60000)
	   .pause(500)
	   .click("//*[@id='formsContent']/div/div/a[text()='Headache Disability Questionnaire']")
	   .useCss()
	   .waitForElementVisible('button[onclick="getDefaultFormList()"]' , 60000)
	   .pause(500)

  headaches=Math.floor((Math.random()*3)+1)
  Headache=Math.floor((Math.random()*3)+1)
  feelHandicapped=Math.floor((Math.random()*3)+1)
  feelRestricted=Math.floor((Math.random()*3)+1)
  noOneUnderstands=Math.floor((Math.random()*3)+1)
  IRestrictMyRecreational=Math.floor((Math.random()*3)+1)
  meAngry=Math.floor((Math.random()*3)+1)
  feelLoseControl=Math.floor((Math.random()*3)+1)
  lessLikelyToSocialize=Math.floor((Math.random()*3)+1)
  spouseSignificantOther=Math.floor((Math.random()*3)+1)
  feelToGoInsane=Math.floor((Math.random()*3)+1)
  outlookOnTheWorld=Math.floor((Math.random()*3)+1)
  afraidToGoOutside=Math.floor((Math.random()*3)+1)
  feelDesperate=Math.floor((Math.random()*3)+1)
  payingPenalities=Math.floor((Math.random()*3)+1)
  stressOnMyRelationship=Math.floor((Math.random()*3)+1)
  avoidBeingAround=Math.floor((Math.random()*3)+1)
  achieveMyGoals=Math.floor((Math.random()*3)+1)
  unableToThink=Math.floor((Math.random()*3)+1)
  getTense=Math.floor((Math.random()*3)+1)
  donotEnjoySocialGatherings=Math.floor((Math.random()*3)+1)
  feelIrritable=Math.floor((Math.random()*3)+1)
  avoidTraveling=Math.floor((Math.random()*3)+1)
  fellConfused=Math.floor((Math.random()*3)+1)
  feelFrustrated=Math.floor((Math.random()*3)+1)
  difficultToRead=Math.floor((Math.random()*3)+1)
  diffcultToFocus=Math.floor((Math.random()*3)+1)

      browser
         .pause(500)
         .getLocationInView('#feelHandicappedYES_id')
         .pause(500)
         .getLocationInView('#f_id')
         .pause(500)
         .getValue('#age_id' , function(result){
                 age_1.push(result.value)
         })
         .click('input[name="IHaveHeadache"][value="'+headaches+'"]')
         .click('input[name="myHeadacheIs"][value="'+Headache+'"]')
         .click('input[name="feelHandicapped"][value="'+feelHandicapped+'"]')
         .click('input[name="feelRestricted"][value="'+feelRestricted+'"]')
         .click('input[name="noOneUnderstands"][value="'+noOneUnderstands+'"]')
         .pause(500)
         .getLocationInView('#lessLikelyToSocializeYES_id')
         .pause(500)
         .getLocationInView('#noOneUnderstandsYES_id')
         .pause(500)
         .click('input[name="IRestrictMyRecreational"][value="'+IRestrictMyRecreational+'"]')
         .click('input[name="meAngry"][value="'+meAngry+'"]')
         .click('input[name="feelLoseControl"][value="'+feelLoseControl+'"]')
         .click('input[name="lessLikelyToSocialize"][value="'+lessLikelyToSocialize+'"]')
         .click('input[name="spouseSignificantOther"][value="'+spouseSignificantOther+'"]')
         .click('input[name="feelToGoInsane"][value="'+feelToGoInsane+'"]')
         .pause(500)
         .getLocationInView('#stressOnMyRelationshipYES_id')
         .pause(500)
         .getLocationInView('#feelToGoInsaneYES_id')
         .pause(500)
         .click('input[name="outlookOnTheWorld"][value="'+outlookOnTheWorld+'"]')
         .click('input[name="afraidToGoOutside"][value="'+afraidToGoOutside+'"]')
         .click('input[name="feelDesperate"][value="'+feelDesperate+'"]')
         .click('input[name="payingPenalities"][value="'+payingPenalities+'"]')
         .click('input[name="stressOnMyRelationship"][value="'+stressOnMyRelationship+'"]')
         .click('input[name="avoidBeingAround"][value="'+avoidBeingAround+'"]')
         .pause(500)
         .getLocationInView('#feelIrritableYES_id')
         .pause(500)
         .getLocationInView('#avoidBeingAroundYES_id')
         .pause(500)
         .click('input[name="achieveMyGoals"][value="'+achieveMyGoals+'"]')
         .click('input[name="unableToThink"][value="'+unableToThink+'"]')
         .click('input[name="getTense"][value="'+getTense+'"]')
         .click('input[name="donotEnjoySocialGatherings"][value="'+donotEnjoySocialGatherings+'"]')
         .click('input[name="feelIrritable"][value="'+feelIrritable+'"]')
         .click('input[name="avoidTraveling"][value="'+avoidTraveling+'"]')
         .pause(500)
         .getLocationInView('#diffcultToFocusYES_id')
         .pause(500)
         .getLocationInView('#avoidTravelingYES_id')
         .pause(500)
         .click('input[name="fellConfused"][value="'+fellConfused+'"]')
         .click('input[name="feelFrustrated"][value="'+feelFrustrated+'"]')
         .click('input[name="difficultToRead"][value="'+difficultToRead+'"]')
         .click('input[name="diffcultToFocus"][value="'+diffcultToFocus+'"]')
         .click('#acceptstatement_id')
         .click('button[class="btn btn-primary hidden-print requestRecHidden uncompletedVisible"][type="submit"]')
         .waitForElementVisible('a[onclick="getDefaultFormList();"]' , 60000)
	     .pause(500)
	     .useXpath()
         .pause(500)
         .verify.elementNotPresent("//*[@id='formsContent']/div/div/a[text()='Headache Disability Questionnaire']")
         .pause(500)
         .useCss()
         .click('a[href="/EHR/EHR/j_spring_security_logout"]')
         .waitForElementVisible('#username_id' , 60000)
         .pause(500)
},
'Admin login':function(browser){
	browser
	   .useCss()
	   .pause(500)
	   .setValue('#username_id' , Data.user1[1].username)
	   .setValue('#password_id' , Data.user1[1].password)
	   .pause(300)
	   .click('button[class="btn btn-primary"][type="submit"]')
	   .waitForElementVisible('a[class=""]' , 60000)
	   .pause(500)
	   .click('a[class="firstLevel"]')
	   .pause(300)
	   .click('a[href="/EHR/Clinicadmin/view-patient-details-open"]')
	   .waitForElementVisible('a[onclick="getPatientProfile()"]' , 60000)
	   .pause(500)
	   .click('a[onclick="postNavigateToProfile('+id+',1);"]')
	   .waitForElementVisible('#patient_first_name' , 60000)
	   .pause(500)
	   .click('a[onclick="getDefaultFormList();"]')
},
'Check 2':function(browser){
   browser	   
	   .useXpath()
	   .waitForElementVisible("//*[@id='formsContent']/div/div/a[text()='Confidential Patient Information']" , 60000)
	   .pause(1000)
       .getLocationInView("//*[@id='formsContent']/div/div/a[text()='Headache Disability Questionnaire']")    
       .pause(2000)
       .getLocationInView("//*[@id='formsContent']/div/div/a[text()='Confidential Patient Information']")    
       .pause(1500)  
       .click("//*[@id='formsContent']/div/div/a[text()='Headache Disability Questionnaire']")  
       .useCss()
       .waitForElementVisible('#btnExportPatientForm' , 60000)
       .pause(500)
       .getLocationInView('#feelHandicappedYES_id')
       .pause(500)
       .getLocationInView('#age_id')
       .pause(500)
       .headache(headaches_1 , Headache_1 , feelHandicapped_1, feelRestricted_1, noOneUnderstands_1, IRestrictMyRecreational_1, meAngry_1, feelLoseControl_1, 
               lessLikelyToSocialize_1, spouseSignificantOther_1, feelToGoInsane_1,outlookOnTheWorld_1, afraidToGoOutside_1, feelDesperate_1, payingPenalities_1,
               stressOnMyRelationship_1, avoidBeingAround_1, achieveMyGoals_1, unableToThink_1, getTense_1, donotEnjoySocialGatherings_1, feelIrritable_1, 
               avoidTraveling_1, fellConfused_1, feelFrustrated_1, difficultToRead_1, diffcultToFocus_1,
               age,headaches,Headache,feelHandicapped,feelRestricted,noOneUnderstands,IRestrictMyRecreational,meAngry,feelLoseControl,lessLikelyToSocialize,
               spouseSignificantOther,feelToGoInsane,outlookOnTheWorld,afraidToGoOutside,feelDesperate,payingPenalities,stressOnMyRelationship,avoidBeingAround,
               achieveMyGoals,unableToThink,getTense,donotEnjoySocialGatherings,feelIrritable,avoidTraveling,fellConfused,feelFrustrated,difficultToRead,
               diffcultToFocus)
     .pause(500)
     .end()
},
'Result':''+function(browser){
    console.log("Age-------------------------->"+[age==age_1])
    console.log("headaches-------------------->"+[headaches==headaches_1])
    console.log("Headache--------------------->"+[Headache==Headache_1])
    console.log("feelHandicapped-------------->"+[feelHandicapped==feelHandicapped_1])
    console.log("feelRestricted--------------->"+[feelRestricted==feelRestricted_1])
    console.log("noOneUnderstands------------->"+[noOneUnderstands==noOneUnderstands_1])
    console.log("IRestrictMyRecreational------>"+[IRestrictMyRecreational==IRestrictMyRecreational_1])
    console.log("meAngry---------------------->"+[meAngry==meAngry_1])
    console.log("feelLoseControl-------------->"+[feelLoseControl==feelLoseControl_1])
    console.log("lessLikelyToSocialize-------->"+[lessLikelyToSocialize==lessLikelyToSocialize_1])
    console.log("spouseSignificantOther------->"+[spouseSignificantOther==spouseSignificantOther_1])
    console.log("feelToGoInsane--------------->"+[feelToGoInsane==feelToGoInsane_1])
    console.log("outlookOnTheWorld------------>"+[outlookOnTheWorld==outlookOnTheWorld_1])
    console.log("afraidToGoOutside------------>"+[afraidToGoOutside==afraidToGoOutside_1])
    console.log("feelDesperate---------------->"+[feelDesperate==feelDesperate_1])
    console.log("payingPenalities------------->"+[payingPenalities==payingPenalities_1])
    console.log("stressOnMyRelationship------->"+[stressOnMyRelationship==stressOnMyRelationship_1])
    console.log("avoidBeingAround------------->"+[avoidBeingAround==avoidBeingAround_1])
    console.log("achieveMyGoals--------------->"+[achieveMyGoals==achieveMyGoals_1])
    console.log("unableToThink---------------->"+[unableToThink==unableToThink_1])
    console.log("getTense--------------------->"+[getTense==getTense_1])
    console.log("donotEnjoySocialGatherings--->"+[donotEnjoySocialGatherings==donotEnjoySocialGatherings_1])
    console.log("feelIrritable---------------->"+[feelIrritable==feelIrritable_1])
    console.log("avoidTraveling--------------->"+[avoidTraveling==avoidTraveling_1])
    console.log("fellConfused----------------->"+[fellConfused==fellConfused_1])
    console.log("feelFrustrated--------------->"+[feelFrustrated==feelFrustrated_1])
    console.log("difficultToRead-------------->"+[difficultToRead==difficultToRead_1])
    console.log("diffcultToFocus-------------->"+[diffcultToFocus==diffcultToFocus_1])
}
}