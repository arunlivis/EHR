var Data = require('../EHR_Json/data.json')
var text = require('../EHR_Json/examform4.json')
var cervi=[];    var a1=[];
var thor=[] ;    var b1=[];
var lumb=[];     var c1=[];

var id;

module.exports={
    login : function (browser) {
        browser 
        .login(Data.user1[2].username, Data.user1[2].password)

},
'Patient' : function(browser){
	browser  
	   .useCss()
	   .pause(500)
	   .click('a[class="firstLevel"][href="#"]')
	   .pause(300)
	   .click('a[href="/EHR/Doctor/view-patient-details-open"]')
	   .waitForElementVisible('#col0_filter' , 60000)
	   .pause(500)
	   .getText('td[class="sorting_1"]' , function(result){
	   	  id=result.value
	   	    browser
	   	       .useCss()
	   	       .click('a[onclick="postNavigateToProfile('+result.value+',1);"]')
	   })
	   .waitForElementVisible('button[onclick="openStartTreatment();"]' , 60000)
	   .pause(500)
},
'Exam Form 4':function(browser){	
   browser   
	   .useXpath()
	   .click("//*[@id='treatmentformsContent']/div[2]/span/button")
	   .useCss()
	   .waitForElementVisible('button[onclick="addSoapNotes();"]' , 60000)
	   .pause(500)
	   .useXpath()
	   .click("//*[@id='treatmentformsContent']/div/a[text()='Initial Exam Screen 4 -']")
	   .useCss()
	   .waitForElementVisible('button[onclick="gobackExamsList()"]' , 60000)
	   .pause(500)
	   .useCss()
        .getLocationInView('#lumbarSpineLrPain_id')
        .pause(500)
        .useXpath()
        .getLocationInView("//*[@id='formid']/div/div[1]/div[1]/div/input")
        for(i=0; i<=17; i++){
        a=Math.floor((Math.random()*3)+0)
        a1.push(a)
        browser
        .useCss()
         .clearValue(text.cervical[i])
         .setValue(text.cervical[i],text.number[a])
       
      }

      browser
      .useCss()
      .pause(500)
      .getLocationInView('#lumbarSpineLrStiff_id')
      .pause(500)
      .getLocationInView('#cervicalSpineLrStiff_id')
      .pause(500)
       for(i=0; i<=17; i++){
        b=Math.floor((Math.random()*3)+0)
          b1.push(b)
        browser
        .useCss()
         .clearValue(text.thoracic[i])
         .setValue(text.thoracic[i],text.number1[b])
       
      }
     
     browser
     .useCss()
     .pause(500)
     .getLocationInView('#lumbarSpineLrStiff_id')
     .pause(500)
     .getLocationInView('#thoracicSpineLrStiff_id')
     .pause(500)
      for(i=0; i<=17; i++){
        c=Math.floor((Math.random()*3)+0)
          c1.push(c)
        browser
        .useCss()
         .clearValue(text.lumbar[i])
         .setValue(text.lumbar[i],text.number2[c])
       
      }

      browser
      .useXpath()
      .pause(500)
      .getLocationInView("//*[@id='formid']/div/div[14]/button[3]")
      .pause(500)
      .useCss()
      .getLocationInView('#lumbarSpineLrPain_id')
      .pause(500)
      
      .click('button[class="btn btn-primary"][type="submit"]')
      .pause(1500)
      .useXpath()
      .waitForElementVisible("//*[@id='treatmentformsContent']/div/a[text()='Initial Exam Screen 4 -']" , 60000)
      .pause(500)
      .getLocationInView("//*[@id='treatmentformsContent']/div/a[text()='Initial Exam Screen 4 -']")
      .pause(500)
      .getLocationInView("//*[@id='treatmentformsContent']/div/a[text()='Initial Exam Screen 1 -']")
      .pause(500)
      .click("//*[@id='treatmentformsContent']/div/a[text()='Initial Exam Screen 4 -']")
        .useCss()
	   .waitForElementVisible('button[onclick="gobackExamsList()"]' , 60000)
	   .pause(500)
        .exam4(cervi,thor,lumb,text,a1,b1,c1)
        .pause(500)
        .end()
    },
'Result' :''+ function (browser){
  browser
 console.log('cervical--->'+[JSON.stringify(cervi.sort())==JSON.stringify(a1.sort())])
 console.log('thoracic--->'+[JSON.stringify(thor.sort())==JSON.stringify(b1.sort())])
 console.log('lumbar----->'+[JSON.stringify(lumb.sort())==JSON.stringify(c1.sort())])
  
}
}